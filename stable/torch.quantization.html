<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   torch.quantization — PyTorch 1.10 documentation
  </title>
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <!-- Google Analytics -->
  <!-- Preload the theme fonts -->
  <!-- Preload the katex fonts -->
 </head>
 <body class="pytorch-body">
  <div class="pytorch-container">
   <section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
    <div class="pytorch-content-left">
     <div class="rst-content">
      <div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
        <div class="section" id="module-torch.quantization">
         <span id="id1">
         </span>
         <span id="torch-quantization">
         </span>
         <h1>
          torch.quantization
          <a class="headerlink" href="#module-torch.quantization" title="Permalink to this headline">
           ¶
          </a>
         </h1>
         <p>
          This module implements the functions you call
directly to convert your model from FP32 to quantized form. For
example the
          <a class="reference internal" href="#torch.quantization.prepare" title="torch.quantization.prepare">
           <code class="xref py py-func docutils literal notranslate">
            <span class="pre">
             prepare()
            </span>
           </code>
          </a>
          is used in post training
quantization to prepares your model for the calibration step and
          <a class="reference internal" href="#torch.quantization.convert" title="torch.quantization.convert">
           <code class="xref py py-func docutils literal notranslate">
            <span class="pre">
             convert()
            </span>
           </code>
          </a>
          actually converts the weights to int8 and
replaces the operations with their quantized counterparts. There are
other helper functions for things like quantizing the input to your
model and performing critical fusions like conv+relu.
         </p>
         <div class="section" id="top-level-quantization-apis">
          <h2>
           Top-level quantization APIs
           <a class="headerlink" href="#top-level-quantization-apis" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py function">
           <dt id="torch.quantization.quantize">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              quantize
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               run_fn
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               run_args
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mapping
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#quantize">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.quantize" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Quantize the input float model with post training static quantization.
            </p>
            <p>
             First it will prepare the model for calibration, then it calls
             <cite>
              run_fn
             </cite>
             which will run the calibration step, after that we will
convert the model to a quantized model.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – input float model
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  run_fn
                 </strong>
                 – a calibration function for calibrating the prepared model
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  run_args
                 </strong>
                 – positional arguments for
                 <cite>
                  run_fn
                 </cite>
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – carry out model transformations in-place, the original module is mutated
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  mapping
                 </strong>
                 – correspondence between original module types and quantized counterparts
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               Quantized model.
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.quantize_dynamic">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              quantize_dynamic
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qconfig_spec
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.qint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mapping
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#quantize_dynamic">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.quantize_dynamic" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Converts a float model to dynamic (i.e. weights-only) quantized model.
            </p>
            <p>
             Replaces specified modules with dynamic weight-only quantized versions and output the quantized model.
            </p>
            <p>
             For simplest usage provide
             <cite>
              dtype
             </cite>
             argument that can be float16 or qint8. Weight-only quantization
by default is performed for layers with large weights size - i.e. Linear and RNN variants.
            </p>
            <p>
             Fine grained control is possible with
             <cite>
              qconfig
             </cite>
             and
             <cite>
              mapping
             </cite>
             that act similarly to
             <cite>
              quantize()
             </cite>
             .
If
             <cite>
              qconfig
             </cite>
             is provided, the
             <cite>
              dtype
             </cite>
             argument is ignored.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – input model
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qconfig_spec
                 </strong>
                 –
                 <p>
                  Either:
                 </p>
                 <ul>
                  <li>
                   <p>
                    A dictionary that maps from name or type of submodule to quantization
configuration, qconfig applies to all submodules of a given
module unless qconfig for the submodules are specified (when the
submodule already has qconfig attribute). Entries in the dictionary
need to be QConfigDynamic instances.
                   </p>
                  </li>
                  <li>
                   <p>
                    A set of types and/or submodule names to apply dynamic quantization to,
in which case the
                    <cite>
                     dtype
                    </cite>
                    argument is used to specify the bit-width
                   </p>
                  </li>
                 </ul>
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – carry out model transformations in-place, the original module is mutated
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  mapping
                 </strong>
                 – maps type of a submodule to a type of corresponding dynamically quantized version
with which the submodule needs to be replaced
                </p>
               </li>
              </ul>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.quantize_qat">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              quantize_qat
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               run_fn
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               run_args
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#quantize_qat">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.quantize_qat" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Do quantization aware training and output a quantized model
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – input model
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  run_fn
                 </strong>
                 – a function for evaluating the prepared model, can be a
function that simply runs the prepared model or a training
loop
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  run_args
                 </strong>
                 – positional arguments for
                 <cite>
                  run_fn
                 </cite>
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               Quantized model.
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.prepare">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              prepare
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               allow_list
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               observer_non_leaf_module_list
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               prepare_custom_config_dict
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#prepare">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.prepare" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Prepares a copy of the model for quantization calibration or quantization-aware training.
            </p>
            <p>
             Quantization configuration should be assigned preemptively
to individual submodules in
             <cite>
              .qconfig
             </cite>
             attribute.
            </p>
            <p>
             The model will be attached with observer or fake quant modules, and qconfig
will be propagated.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – input model to be modified in-place
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – carry out model transformations in-place, the original module is mutated
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  allow_list
                 </strong>
                 – list of quantizable modules
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  observer_non_leaf_module_list
                 </strong>
                 – list of non-leaf modules we want to add observer
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  prepare_custom_config_dict
                 </strong>
                 – customization configuration dictionary for prepare function
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <div class="highlight-python notranslate">
             <div class="highlight">
              <pre><span></span><span class="c1"># Example of prepare_custom_config_dict:</span>
<span class="n">prepare_custom_config_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># user will manually define the corresponding observed</span>
    <span class="c1"># module class which has a from_float class method that converts</span>
    <span class="c1"># float custom module to observed custom module</span>
    <span class="s2">"float_to_observed_custom_module_class"</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">CustomModule</span><span class="p">:</span> <span class="n">ObservedCustomModule</span>
    <span class="p">}</span>
 <span class="p">}</span>
</pre>
             </div>
            </div>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.prepare_qat">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              prepare_qat
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mapping
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#prepare_qat">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.prepare_qat" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Prepares a copy of the model for quantization calibration or
quantization-aware training and converts it to quantized version.
            </p>
            <p>
             Quantization configuration should be assigned preemptively
to individual submodules in
             <cite>
              .qconfig
             </cite>
             attribute.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – input model to be modified in-place
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  mapping
                 </strong>
                 – dictionary that maps float modules to quantized modules to be
replaced.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – carry out model transformations in-place, the original module
is mutated
                </p>
               </li>
              </ul>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.convert">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              convert
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               module
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mapping
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               inplace
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               remove_qconfig
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               True
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               convert_custom_config_dict
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#convert">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.convert" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Converts submodules in input module to a different module according to
             <cite>
              mapping
             </cite>
             by calling
             <cite>
              from_float
             </cite>
             method on the target module class. And remove qconfig at the
end if remove_qconfig is set to True.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  module
                 </strong>
                 – prepared and calibrated module
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  mapping
                 </strong>
                 – a dictionary that maps from source module type to target
module type, can be overwritten to allow swapping user defined
Modules
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – carry out model transformations in-place, the original module
is mutated
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  convert_custom_config_dict
                 </strong>
                 – custom configuration dictionary for convert function
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <div class="highlight-python notranslate">
             <div class="highlight">
              <pre><span></span><span class="c1"># Example of convert_custom_config_dict:</span>
<span class="n">convert_custom_config_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># user will manually define the corresponding quantized</span>
    <span class="c1"># module class which has a from_observed class method that converts</span>
    <span class="c1"># observed custom module to quantized custom module</span>
    <span class="s2">"observed_to_quantized_custom_module_class"</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">ObservedCustomModule</span><span class="p">:</span> <span class="n">QuantizedCustomModule</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
             </div>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.QConfig">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              QConfig
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               activation
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               weight
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/qconfig.html#QConfig">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.QConfig" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Describes how to quantize a layer or a part of the network by providing
settings (observer classes) for activations and weights respectively.
            </p>
            <p>
             Note that QConfig needs to contain observer
             <strong>
              classes
             </strong>
             (like MinMaxObserver) or a callable that returns
instances on invocation, not the concrete observer instances themselves.
Quantization preparation function will instantiate observers multiple times for each of the layers.
            </p>
            <p>
             Observer classes have usually reasonable default arguments, but they can be overwritten with
             <cite>
              with_args
             </cite>
             method (that behaves like functools.partial):
            </p>
            <blockquote>
             <div>
              <p>
               my_qconfig = QConfig(activation=MinMaxObserver.with_args(dtype=torch.qint8),
weight=default_observer.with_args(dtype=torch.qint8))
              </p>
             </div>
            </blockquote>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.QConfigDynamic">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              QConfigDynamic
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="pre">
              activation=&lt;class
             </span>
             <span class="pre">
              'torch.nn.modules.linear.Identity'&gt;
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              weight=&lt;class
             </span>
             <span class="pre">
              'torch.nn.modules.linear.Identity'&gt;
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/qconfig.html#QConfigDynamic">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.QConfigDynamic" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Describes how to dynamically quantize a layer or a part of the network by providing
settings (observer classes) for weights.
            </p>
            <p>
             It’s like QConfig, but for dynamic quantization.
            </p>
            <p>
             Note that QConfigDynamic needs to contain observer
             <strong>
              classes
             </strong>
             (like MinMaxObserver) or a callable that returns
instances on invocation, not the concrete observer instances themselves.
Quantization function will instantiate observers multiple times for each of the layers.
            </p>
            <p>
             Observer classes have usually reasonable default arguments, but they can be overwritten with
             <cite>
              with_args
             </cite>
             method (that behaves like functools.partial):
            </p>
            <blockquote>
             <div>
              <p>
               my_qconfig = QConfigDynamic(weight=default_observer.with_args(dtype=torch.qint8))
              </p>
             </div>
            </blockquote>
           </dd>
          </dl>
         </div>
         <div class="section" id="preparing-model-for-quantization">
          <h2>
           Preparing model for quantization
           <a class="headerlink" href="#preparing-model-for-quantization" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py function">
           <dt id="torch.quantization.fuse_modules">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              fuse_modules
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="pre">
              model
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              modules_to_fuse
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              inplace=False
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              fuser_func=&lt;function
             </span>
             <span class="pre">
              fuse_known_modules&gt;
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              fuse_custom_config_dict=None
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/fuse_modules.html#fuse_modules">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.fuse_modules" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Fuses a list of modules into a single module
            </p>
            <p>
             Fuses only the following sequence of modules:
conv, bn
conv, bn, relu
conv, relu
linear, relu
bn, relu
All other sequences are left unchanged.
For these sequences, replaces the first item in the list
with the fused module, replacing the rest of the modules
with identity.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  model
                 </strong>
                 – Model containing the modules to be fused
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  modules_to_fuse
                 </strong>
                 – list of list of module names to fuse. Can also be a list
of strings if there is only a single list of modules to fuse.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  inplace
                 </strong>
                 – bool specifying if fusion happens in place on the model, by default
a new model is returned
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  fuser_func
                 </strong>
                 – Function that takes in a list of modules and outputs a list of fused modules
of the same length. For example,
fuser_func([convModule, BNModule]) returns the list [ConvBNModule, nn.Identity()]
Defaults to torch.quantization.fuse_known_modules
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  fuse_custom_config_dict
                 </strong>
                 – custom configuration for fusion
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <div class="highlight-python notranslate">
             <div class="highlight">
              <pre><span></span><span class="c1"># Example of fuse_custom_config_dict</span>
<span class="n">fuse_custom_config_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># Additional fuser_method mapping</span>
    <span class="s2">"additional_fuser_method_mapping"</span><span class="p">:</span> <span class="p">{</span>
        <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">BatchNorm2d</span><span class="p">):</span> <span class="n">fuse_conv_bn</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre>
             </div>
            </div>
            <dl class="field-list simple">
             <dt class="field-odd">
              Returns
             </dt>
             <dd class="field-odd">
              <p>
               model with fused modules. A new copy is created if inplace=True.
              </p>
             </dd>
            </dl>
            <p>
             Examples:
            </p>
            <div class="highlight-default notranslate">
             <div class="highlight">
              <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">myModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># m is a module containing  the sub-modules below</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modules_to_fuse</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'conv1'</span><span class="p">,</span> <span class="s1">'bn1'</span><span class="p">,</span> <span class="s1">'relu1'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'submodule.conv'</span><span class="p">,</span> <span class="s1">'submodule.relu'</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fused_m</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ao</span><span class="o">.</span><span class="n">quantization</span><span class="o">.</span><span class="n">fuse_modules</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">modules_to_fuse</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="n">fused_m</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">myModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Alternately provide a single list of modules to fuse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modules_to_fuse</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'conv1'</span><span class="p">,</span> <span class="s1">'bn1'</span><span class="p">,</span> <span class="s1">'relu1'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fused_m</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ao</span><span class="o">.</span><span class="n">quantization</span><span class="o">.</span><span class="n">fuse_modules</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">modules_to_fuse</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="n">fused_m</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre>
             </div>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.QuantStub">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              QuantStub
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qconfig
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/stubs.html#QuantStub">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.QuantStub" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Quantize stub module, before calibration, this is same as an observer,
it will be swapped as
             <cite>
              nnq.Quantize
             </cite>
             in
             <cite>
              convert
             </cite>
             .
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <p>
               <strong>
                qconfig
               </strong>
               – quantization configuration for the tensor,
if qconfig is not provided, we will get qconfig from parent modules
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.DeQuantStub">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              DeQuantStub
             </span>
            </code>
            <a class="reference internal" href="_modules/torch/ao/quantization/stubs.html#DeQuantStub">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.DeQuantStub" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Dequantize stub module, before calibration, this is same as identity,
this will be swapped as
             <cite>
              nnq.DeQuantize
             </cite>
             in
             <cite>
              convert
             </cite>
             .
            </p>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.QuantWrapper">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              QuantWrapper
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               module
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/stubs.html#QuantWrapper">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.QuantWrapper" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             A wrapper class that wraps the input module, adds QuantStub and
DeQuantStub and surround the call to module with call to quant and dequant
modules.
            </p>
            <p>
             This is used by the
             <cite>
              quantization
             </cite>
             utility functions to add the quant and
dequant modules, before
             <cite>
              convert
             </cite>
             function
             <cite>
              QuantStub
             </cite>
             will just be observer,
it observes the input tensor, after
             <cite>
              convert
             </cite>
             ,
             <cite>
              QuantStub
             </cite>
             will be swapped to
             <cite>
              nnq.Quantize
             </cite>
             which does actual quantization. Similarly
for
             <cite>
              DeQuantStub
             </cite>
             .
            </p>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.add_quant_dequant">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              add_quant_dequant
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               module
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#add_quant_dequant">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.add_quant_dequant" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Wrap the leaf child module in QuantWrapper if it has a valid qconfig
Note that this function will modify the children of module inplace and it
can return a new module which wraps the input module as well.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  module
                 </strong>
                 – input module with qconfig attributes for all the leaf modules
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  we want to quantize
                 </strong>
                 (
                 <em>
                  that
                 </em>
                 ) –
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               Either the inplace modified module with submodules wrapped in
               <cite>
                QuantWrapper
               </cite>
               based on qconfig or a new
               <cite>
                QuantWrapper
               </cite>
               module which
wraps the input module, the latter case only happens when the input
module is a leaf module and we want to quantize it.
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
         </div>
         <div class="section" id="utility-functions">
          <h2>
           Utility functions
           <a class="headerlink" href="#utility-functions" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py function">
           <dt id="torch.quantization.add_observer_">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              add_observer_
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               module
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qconfig_propagation_list
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               non_leaf_module_list
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               device
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               custom_module_class_mapping
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#add_observer_">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.add_observer_" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Add observer for the leaf child of the module.
            </p>
            <p>
             This function insert observer module to all leaf child module that
has a valid qconfig attribute.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  module
                 </strong>
                 – input module with qconfig attributes for all the leaf modules that we want to quantize
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  device
                 </strong>
                 – parent device, if any
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  non_leaf_module_list
                 </strong>
                 – list of non-leaf modules we want to add observer
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               None, module is modified inplace with added observer modules and forward_hooks
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.swap_module">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              swap_module
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mod
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mapping
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               custom_module_class_mapping
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#swap_module">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.swap_module" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Swaps the module if it has a quantized counterpart and it has an
             <cite>
              observer
             </cite>
             attached.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  mod
                 </strong>
                 – input module
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  mapping
                 </strong>
                 – a dictionary that maps from nn module to nnq module
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               The corresponding quantized module of
               <cite>
                mod
               </cite>
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.propagate_qconfig_">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              propagate_qconfig_
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               module
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qconfig_dict
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               allow_list
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#propagate_qconfig_">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.propagate_qconfig_" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Propagate qconfig through the module hierarchy and assign
             <cite>
              qconfig
             </cite>
             attribute on each leaf module
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  module
                 </strong>
                 – input module
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qconfig_dict
                 </strong>
                 – dictionary that maps from name or type of submodule to
quantization configuration, qconfig applies to all submodules of a
given module unless qconfig for the submodules are specified (when
the submodule already has qconfig attribute)
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Returns
             </dt>
             <dd class="field-even">
              <p>
               None, module is modified inplace with qconfig attached
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.quantization.default_eval_fn">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              default_eval_fn
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               model
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               calib_data
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/quantization.html#default_eval_fn">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.default_eval_fn" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Default evaluation function takes a torch.utils.data.Dataset or a list of
input Tensors and run the model on the dataset
            </p>
           </dd>
          </dl>
         </div>
         <div class="section" id="observers">
          <h2>
           Observers
           <a class="headerlink" href="#observers" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py class">
           <dt id="torch.quantization.ObserverBase">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              ObserverBase
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#ObserverBase">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.ObserverBase" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Base observer Module.
Any observer implementation should derive from this class.
            </p>
            <p>
             Concrete observers should follow the same API. In forward, they will update
the statistics of the observed Tensor. And they should provide a
             <cite>
              calculate_qparams
             </cite>
             function that computes the quantization parameters given
the collected statistics.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <p>
               <strong>
                dtype
               </strong>
               – Quantized data type
              </p>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.quantization.ObserverBase.with_args">
              <em class="property">
               <span class="pre">
                classmethod
               </span>
              </em>
              <code class="sig-name descname">
               <span class="pre">
                with_args
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="o">
                <span class="pre">
                 **
                </span>
               </span>
               <span class="n">
                <span class="pre">
                 kwargs
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="headerlink" href="#torch.quantization.ObserverBase.with_args" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Wrapper that allows creation of class factories.
              </p>
              <p>
               This can be useful when there is a need to create classes with the same
constructor arguments, but different instances. Can be used in conjunction with
_callable_args
              </p>
              <p>
               Example:
              </p>
              <div class="highlight-default notranslate">
               <div class="highlight">
                <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Foo</span><span class="o">.</span><span class="n">with_args</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_with_args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_builder</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="n">answer</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_instance1</span> <span class="o">=</span> <span class="n">foo_builder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_instance2</span> <span class="o">=</span> <span class="n">foo_builder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">foo_instance1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">foo_instance2</span><span class="p">)</span>
<span class="go">False</span>
</pre>
               </div>
              </div>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.quantization.ObserverBase.with_callable_args">
              <em class="property">
               <span class="pre">
                classmethod
               </span>
              </em>
              <code class="sig-name descname">
               <span class="pre">
                with_callable_args
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="o">
                <span class="pre">
                 **
                </span>
               </span>
               <span class="n">
                <span class="pre">
                 kwargs
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="headerlink" href="#torch.quantization.ObserverBase.with_callable_args" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Wrapper that allows creation of class factories args that need to be
called at construction time.
              </p>
              <p>
               This can be useful when there is a need to create classes with the same
constructor arguments, but different instances and those arguments should only
be calculated at construction time. Can be used in conjunction with _with_args
              </p>
              <p>
               Example:
              </p>
              <div class="highlight-default notranslate">
               <div class="highlight">
                <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Foo</span><span class="o">.</span><span class="n">with_callable_args</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_with_callable_args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Foo</span><span class="o">.</span><span class="n">with_args</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_with_args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_builder</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="n">with_callable_args</span><span class="p">(</span><span class="n">cur_time</span><span class="o">=</span><span class="n">get_time_func</span><span class="p">)</span><span class="o">.</span><span class="n">with_args</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"dan"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_instance1</span> <span class="o">=</span> <span class="n">foo_builder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wait</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo_instance2</span> <span class="o">=</span> <span class="n">foo_builder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">foo_instance1</span><span class="o">.</span><span class="n">creation_time</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">foo_instance2</span><span class="o">.</span><span class="n">creation_time</span><span class="p">)</span>
<span class="go">False</span>
</pre>
               </div>
              </div>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.MinMaxObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              MinMaxObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.quint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qscheme
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.per_tensor_affine
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               reduce_range
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_min
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_max
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               factory_kwargs
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#MinMaxObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.MinMaxObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Observer module for computing the quantization parameters based on the
running min and max values.
            </p>
            <p>
             This observer uses the tensor min/max statistics to compute the quantization
parameters. The module records the running minimum and maximum of incoming
tensors, and uses this statistic to compute the quantization parameters.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_min
                 </strong>
                 – Minimum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_max
                 </strong>
                 – Maximum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <p>
             Given running min/max as
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     x
                    </mi>
                    <mtext>
                     min
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   x_\text{min}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.58056em;vertical-align:-0.15em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   x
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.31750199999999995em;">
                      <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          min
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.15em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             and
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     x
                    </mi>
                    <mtext>
                     max
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   x_\text{max}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.58056em;vertical-align:-0.15em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   x
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.151392em;">
                      <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          max
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.15em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             ,
scale
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    s
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   s
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.43056em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal">
                  s
                 </span>
                </span>
               </span>
              </span>
             </span>
             and zero point
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    z
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   z
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.43056em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal" style="margin-right:0.04398em;">
                  z
                 </span>
                </span>
               </span>
              </span>
             </span>
             are computed as:
            </p>
            <p>
             The running minimum/maximum
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     x
                    </mi>
                    <mtext>
                     min/max
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   x_\text{min/max}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.7857599999999999em;vertical-align:-0.3551999999999999em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   x
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.34480000000000005em;">
                      <span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          min/max
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.3551999999999999em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             is computed as:
            </p>
            <div class="math">
             <span class="katex-display">
              <span class="katex">
               <span class="katex-mathml">
                <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mtable columnalign="left left" columnspacing="1em" rowspacing="0.1600em">
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <msub>
                       <mi>
                        x
                       </mi>
                       <mtext>
                        min
                       </mtext>
                      </msub>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <mrow>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         {
                        </mo>
                        <mtable columnalign="left left" columnspacing="1em" rowspacing="0.3600em">
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              min
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mtext>
                              if
                             </mtext>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               min
                              </mtext>
                             </msub>
                             <mo>
                              =
                             </mo>
                             <mtext>
                              None
                             </mtext>
                            </mrow>
                           </mstyle>
                          </mtd>
                         </mtr>
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              min
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mrow>
                              <mo fence="true">
                               (
                              </mo>
                              <msub>
                               <mi>
                                x
                               </mi>
                               <mtext>
                                min
                               </mtext>
                              </msub>
                              <mo separator="true">
                               ,
                              </mo>
                              <mi>
                               min
                              </mi>
                              <mo>
                               ⁡
                              </mo>
                              <mo stretchy="false">
                               (
                              </mo>
                              <mi>
                               X
                              </mi>
                              <mo stretchy="false">
                               )
                              </mo>
                              <mo fence="true">
                               )
                              </mo>
                             </mrow>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             otherwise
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                        </mtable>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <msub>
                       <mi>
                        x
                       </mi>
                       <mtext>
                        max
                       </mtext>
                      </msub>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <mrow>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         {
                        </mo>
                        <mtable columnalign="left left" columnspacing="1em" rowspacing="0.3600em">
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              max
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mtext>
                              if
                             </mtext>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               max
                              </mtext>
                             </msub>
                             <mo>
                              =
                             </mo>
                             <mtext>
                              None
                             </mtext>
                            </mrow>
                           </mstyle>
                          </mtd>
                         </mtr>
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              max
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mrow>
                              <mo fence="true">
                               (
                              </mo>
                              <msub>
                               <mi>
                                x
                               </mi>
                               <mtext>
                                max
                               </mtext>
                              </msub>
                              <mo separator="true">
                               ,
                              </mo>
                              <mi>
                               max
                              </mi>
                              <mo>
                               ⁡
                              </mo>
                              <mo stretchy="false">
                               (
                              </mo>
                              <mi>
                               X
                              </mi>
                              <mo stretchy="false">
                               )
                              </mo>
                              <mo fence="true">
                               )
                              </mo>
                             </mrow>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             otherwise
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                        </mtable>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                  </mtable>
                  <annotation encoding="application/x-tex">
                   \begin{array}{ll}
x_\text{min} &amp;= \begin{cases}
    \min(X) &amp; \text{if~}x_\text{min} = \text{None} \\
    \min\left(x_\text{min}, \min(X)\right) &amp; \text{otherwise}
\end{cases}\\
x_\text{max} &amp;= \begin{cases}
    \max(X) &amp; \text{if~}x_\text{max} = \text{None} \\
    \max\left(x_\text{max}, \max(X)\right) &amp; \text{otherwise}
\end{cases}\\
\end{array}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:6.0000599999999995em;vertical-align:-2.7500299999999998em;">
                 </span>
                 <span class="mord">
                  <span class="mtable">
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                   <span class="col-align-l">
                    <span class="vlist-t vlist-t2">
                     <span class="vlist-r">
                      <span class="vlist" style="height:3.2500299999999998em;">
                       <span style="top:-5.25003em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.31750199999999995em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  min
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-2.25em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  max
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                      </span>
                      <span class="vlist-s">
                       ​
                      </span>
                     </span>
                     <span class="vlist-r">
                      <span class="vlist" style="height:2.7500299999999998em;">
                       <span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                   <span class="col-align-l">
                    <span class="vlist-t vlist-t2">
                     <span class="vlist-r">
                      <span class="vlist" style="height:3.2500299999999998em;">
                       <span style="top:-5.25003em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           <span class="delimsizing size4">
                            {
                           </span>
                          </span>
                          <span class="mord">
                           <span class="mtable">
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   min
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   min
                                  </span>
                                  <span class="mspace" style="margin-right:0.16666666666666666em;">
                                  </span>
                                  <span class="minner">
                                   <span class="mopen delimcenter" style="top:0em;">
                                    (
                                   </span>
                                   <span class="mord">
                                    <span class="mord mathnormal">
                                     x
                                    </span>
                                    <span class="msupsub">
                                     <span class="vlist-t vlist-t2">
                                      <span class="vlist-r">
                                       <span class="vlist" style="height:0.31750199999999995em;">
                                        <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                         <span class="pstrut" style="height:2.7em;">
                                         </span>
                                         <span class="sizing reset-size6 size3 mtight">
                                          <span class="mord text mtight">
                                           <span class="mord mtight">
                                            min
                                           </span>
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                       <span class="vlist-s">
                                        ​
                                       </span>
                                      </span>
                                      <span class="vlist-r">
                                       <span class="vlist" style="height:0.15em;">
                                        <span>
                                        </span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                   <span class="mpunct">
                                    ,
                                   </span>
                                   <span class="mspace" style="margin-right:0.16666666666666666em;">
                                   </span>
                                   <span class="mop">
                                    min
                                   </span>
                                   <span class="mopen">
                                    (
                                   </span>
                                   <span class="mord mathnormal" style="margin-right:0.07847em;">
                                    X
                                   </span>
                                   <span class="mclose">
                                    )
                                   </span>
                                   <span class="mclose delimcenter" style="top:0em;">
                                    )
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="arraycolsep" style="width:1em;">
                            </span>
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    if
                                   </span>
                                   <span class="mord nobreak">
                                   </span>
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.31750199999999995em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           min
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mrel">
                                   =
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mord text">
                                   <span class="mord">
                                    None
                                   </span>
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    otherwise
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose nulldelimiter">
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-2.25em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           <span class="delimsizing size4">
                            {
                           </span>
                          </span>
                          <span class="mord">
                           <span class="mtable">
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   max
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   max
                                  </span>
                                  <span class="mspace" style="margin-right:0.16666666666666666em;">
                                  </span>
                                  <span class="minner">
                                   <span class="mopen delimcenter" style="top:0em;">
                                    (
                                   </span>
                                   <span class="mord">
                                    <span class="mord mathnormal">
                                     x
                                    </span>
                                    <span class="msupsub">
                                     <span class="vlist-t vlist-t2">
                                      <span class="vlist-r">
                                       <span class="vlist" style="height:0.151392em;">
                                        <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                         <span class="pstrut" style="height:2.7em;">
                                         </span>
                                         <span class="sizing reset-size6 size3 mtight">
                                          <span class="mord text mtight">
                                           <span class="mord mtight">
                                            max
                                           </span>
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                       <span class="vlist-s">
                                        ​
                                       </span>
                                      </span>
                                      <span class="vlist-r">
                                       <span class="vlist" style="height:0.15em;">
                                        <span>
                                        </span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                   <span class="mpunct">
                                    ,
                                   </span>
                                   <span class="mspace" style="margin-right:0.16666666666666666em;">
                                   </span>
                                   <span class="mop">
                                    max
                                   </span>
                                   <span class="mopen">
                                    (
                                   </span>
                                   <span class="mord mathnormal" style="margin-right:0.07847em;">
                                    X
                                   </span>
                                   <span class="mclose">
                                    )
                                   </span>
                                   <span class="mclose delimcenter" style="top:0em;">
                                    )
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="arraycolsep" style="width:1em;">
                            </span>
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    if
                                   </span>
                                   <span class="mord nobreak">
                                   </span>
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.151392em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           max
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mrel">
                                   =
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mord text">
                                   <span class="mord">
                                    None
                                   </span>
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    otherwise
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose nulldelimiter">
                          </span>
                         </span>
                        </span>
                       </span>
                      </span>
                      <span class="vlist-s">
                       ​
                      </span>
                     </span>
                     <span class="vlist-r">
                      <span class="vlist" style="height:2.7500299999999998em;">
                       <span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </div>
            <p>
             where
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    X
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   X
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.68333em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal" style="margin-right:0.07847em;">
                  X
                 </span>
                </span>
               </span>
              </span>
             </span>
             is the observed tensor.
            </p>
            <p>
             The scale
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    s
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   s
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.43056em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal">
                  s
                 </span>
                </span>
               </span>
              </span>
             </span>
             and zero point
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    z
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   z
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.43056em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal" style="margin-right:0.04398em;">
                  z
                 </span>
                </span>
               </span>
              </span>
             </span>
             are then computed as:
            </p>
            <div class="math">
             <span class="katex-display">
              <span class="katex">
               <span class="katex-mathml">
                <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mtable columnalign="right left" columnspacing="0em" rowspacing="0.2500em">
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mtext>
                       if Symmetric:
                      </mtext>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                       <mrow>
                       </mrow>
                       <mi>
                        s
                       </mi>
                       <mo>
                        =
                       </mo>
                       <mn>
                        2
                       </mn>
                       <mi>
                        max
                       </mi>
                       <mo>
                        ⁡
                       </mo>
                       <mo stretchy="false">
                        (
                       </mo>
                       <mi mathvariant="normal">
                        ∣
                       </mi>
                       <msub>
                        <mi>
                         x
                        </mi>
                        <mtext>
                         min
                        </mtext>
                       </msub>
                       <mi mathvariant="normal">
                        ∣
                       </mi>
                       <mo separator="true">
                        ,
                       </mo>
                       <msub>
                        <mi>
                         x
                        </mi>
                        <mtext>
                         max
                        </mtext>
                       </msub>
                       <mo stretchy="false">
                        )
                       </mo>
                       <mi mathvariant="normal">
                        /
                       </mi>
                       <mrow>
                        <mo fence="true">
                         (
                        </mo>
                        <msub>
                         <mi>
                          Q
                         </mi>
                         <mtext>
                          max
                         </mtext>
                        </msub>
                        <mo>
                         −
                        </mo>
                        <msub>
                         <mi>
                          Q
                         </mi>
                         <mtext>
                          min
                         </mtext>
                        </msub>
                        <mo fence="true">
                         )
                        </mo>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                       <mrow>
                       </mrow>
                       <mi>
                        z
                       </mi>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         {
                        </mo>
                        <mtable columnalign="left left" columnspacing="1em" rowspacing="0.3600em">
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mn>
                             0
                            </mn>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             if dtype is qint8
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mn>
                             128
                            </mn>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             otherwise
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                        </mtable>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mtext>
                       Otherwise:
                      </mtext>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                       <mrow>
                       </mrow>
                       <mi>
                        s
                       </mi>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         (
                        </mo>
                        <msub>
                         <mi>
                          x
                         </mi>
                         <mtext>
                          max
                         </mtext>
                        </msub>
                        <mo>
                         −
                        </mo>
                        <msub>
                         <mi>
                          x
                         </mi>
                         <mtext>
                          min
                         </mtext>
                        </msub>
                        <mo fence="true">
                         )
                        </mo>
                       </mrow>
                       <mi mathvariant="normal">
                        /
                       </mi>
                       <mrow>
                        <mo fence="true">
                         (
                        </mo>
                        <msub>
                         <mi>
                          Q
                         </mi>
                         <mtext>
                          max
                         </mtext>
                        </msub>
                        <mo>
                         −
                        </mo>
                        <msub>
                         <mi>
                          Q
                         </mi>
                         <mtext>
                          min
                         </mtext>
                        </msub>
                        <mo fence="true">
                         )
                        </mo>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                    <mtd>
                     <mstyle displaystyle="true" scriptlevel="0">
                      <mrow>
                       <mrow>
                       </mrow>
                       <mi>
                        z
                       </mi>
                       <mo>
                        =
                       </mo>
                       <msub>
                        <mi>
                         Q
                        </mi>
                        <mtext>
                         min
                        </mtext>
                       </msub>
                       <mo>
                        −
                       </mo>
                       <mtext>
                        round
                       </mtext>
                       <mo stretchy="false">
                        (
                       </mo>
                       <msub>
                        <mi>
                         x
                        </mi>
                        <mtext>
                         min
                        </mtext>
                       </msub>
                       <mi mathvariant="normal">
                        /
                       </mi>
                       <mi>
                        s
                       </mi>
                       <mo stretchy="false">
                        )
                       </mo>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                  </mtable>
                  <annotation encoding="application/x-tex">
                   \begin{aligned}
    \text{if Symmetric:}&amp;\\
    &amp;s = 2 \max(|x_\text{min}|, x_\text{max}) /
        \left( Q_\text{max} - Q_\text{min} \right) \\
    &amp;z = \begin{cases}
        0 &amp; \text{if dtype is qint8} \\
        128 &amp; \text{otherwise}
    \end{cases}\\
    \text{Otherwise:}&amp;\\
        &amp;s = \left( x_\text{max} - x_\text{min}  \right ) /
            \left( Q_\text{max} - Q_\text{min} \right ) \\
        &amp;z = Q_\text{min} - \text{round}(x_\text{min} / s)
\end{aligned}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:10.80003em;vertical-align:-5.150015em;">
                 </span>
                 <span class="mord">
                  <span class="mtable">
                   <span class="col-align-r">
                    <span class="vlist-t vlist-t2">
                     <span class="vlist-r">
                      <span class="vlist" style="height:5.650015em;">
                       <span style="top:-8.560015em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord text">
                          <span class="mord">
                           if Symmetric:
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-7.060014999999999em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                        </span>
                       </span>
                       <span style="top:-4.650015em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                        </span>
                       </span>
                       <span style="top:-2.259985em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord text">
                          <span class="mord">
                           Otherwise:
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-0.7599850000000004em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                        </span>
                       </span>
                       <span style="top:0.7400149999999996em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                        </span>
                       </span>
                      </span>
                      <span class="vlist-s">
                       ​
                      </span>
                     </span>
                     <span class="vlist-r">
                      <span class="vlist" style="height:5.150015em;">
                       <span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                   <span class="col-align-l">
                    <span class="vlist-t vlist-t2">
                     <span class="vlist-r">
                      <span class="vlist" style="height:5.650015em;">
                       <span style="top:-8.560015em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                        </span>
                       </span>
                       <span style="top:-7.060014999999999em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                         <span class="mord mathnormal">
                          s
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mord">
                          2
                         </span>
                         <span class="mspace" style="margin-right:0.16666666666666666em;">
                         </span>
                         <span class="mop">
                          max
                         </span>
                         <span class="mopen">
                          (
                         </span>
                         <span class="mord">
                          ∣
                         </span>
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.31750199999999995em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  min
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mord">
                          ∣
                         </span>
                         <span class="mpunct">
                          ,
                         </span>
                         <span class="mspace" style="margin-right:0.16666666666666666em;">
                         </span>
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  max
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mclose">
                          )
                         </span>
                         <span class="mord">
                          /
                         </span>
                         <span class="mspace" style="margin-right:0.16666666666666666em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           (
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            Q
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.151392em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   max
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mbin">
                           −
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            Q
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.31750199999999995em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   min
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose delimcenter" style="top:0em;">
                           )
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-4.650015em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                         <span class="mord mathnormal" style="margin-right:0.04398em;">
                          z
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           <span class="delimsizing size4">
                            {
                           </span>
                          </span>
                          <span class="mord">
                           <span class="mtable">
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord">
                                   0
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord">
                                   128
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="arraycolsep" style="width:1em;">
                            </span>
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    if dtype is qint8
                                   </span>
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    otherwise
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose nulldelimiter">
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-2.259985em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                        </span>
                       </span>
                       <span style="top:-0.7599850000000004em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                         <span class="mord mathnormal">
                          s
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           (
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            x
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.151392em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   max
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mbin">
                           −
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            x
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.31750199999999995em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   min
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose delimcenter" style="top:0em;">
                           )
                          </span>
                         </span>
                         <span class="mspace" style="margin-right:0.16666666666666666em;">
                         </span>
                         <span class="mord">
                          /
                         </span>
                         <span class="mspace" style="margin-right:0.16666666666666666em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           (
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            Q
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.151392em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   max
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mbin">
                           −
                          </span>
                          <span class="mspace" style="margin-right:0.2222222222222222em;">
                          </span>
                          <span class="mord">
                           <span class="mord mathnormal">
                            Q
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.31750199999999995em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord text mtight">
                                  <span class="mord mtight">
                                   min
                                  </span>
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose delimcenter" style="top:0em;">
                           )
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:0.7400149999999996em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                         </span>
                         <span class="mord mathnormal" style="margin-right:0.04398em;">
                          z
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mord">
                          <span class="mord mathnormal">
                           Q
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.31750199999999995em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  min
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mspace" style="margin-right:0.2222222222222222em;">
                         </span>
                         <span class="mbin">
                          −
                         </span>
                         <span class="mspace" style="margin-right:0.2222222222222222em;">
                         </span>
                         <span class="mord text">
                          <span class="mord">
                           round
                          </span>
                         </span>
                         <span class="mopen">
                          (
                         </span>
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.31750199999999995em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  min
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mord">
                          /
                         </span>
                         <span class="mord mathnormal">
                          s
                         </span>
                         <span class="mclose">
                          )
                         </span>
                        </span>
                       </span>
                      </span>
                      <span class="vlist-s">
                       ​
                      </span>
                     </span>
                     <span class="vlist-r">
                      <span class="vlist" style="height:5.150015em;">
                       <span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </div>
            <p>
             where
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     Q
                    </mi>
                    <mtext>
                     min
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   Q_\text{min}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   Q
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.31750199999999995em;">
                      <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          min
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.15em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             and
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     Q
                    </mi>
                    <mtext>
                     max
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   Q_\text{max}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   Q
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.151392em;">
                      <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          max
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.15em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             are the minimum and
maximum of the quantized data type.
            </p>
            <div class="admonition warning">
             <p class="admonition-title">
              Warning
             </p>
             <p>
              Only works with
              <code class="docutils literal notranslate">
               <span class="pre">
                torch.per_tensor_symmetric
               </span>
              </code>
              quantization scheme
             </p>
            </div>
            <div class="admonition warning">
             <p class="admonition-title">
              Warning
             </p>
             <p>
              <code class="xref py py-attr docutils literal notranslate">
               <span class="pre">
                dtype
               </span>
              </code>
              can only take
              <code class="docutils literal notranslate">
               <span class="pre">
                torch.qint8
               </span>
              </code>
              or
              <code class="docutils literal notranslate">
               <span class="pre">
                torch.quint8
               </span>
              </code>
              .
             </p>
            </div>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              If the running minimum equals to the running maximum, the scale
and zero_point are set to 1.0 and 0.
             </p>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.MovingAverageMinMaxObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              MovingAverageMinMaxObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               averaging_constant
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0.01
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.quint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qscheme
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.per_tensor_affine
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               reduce_range
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_min
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_max
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="o">
              <span class="pre">
               **
              </span>
             </span>
             <span class="n">
              <span class="pre">
               kwargs
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#MovingAverageMinMaxObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.MovingAverageMinMaxObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Observer module for computing the quantization parameters based on the
moving average of the min and max values.
            </p>
            <p>
             This observer computes the quantization parameters based on the moving
averages of minimums and maximums of the incoming tensors. The module
records the average minimum and maximum of incoming tensors, and uses this
statistic to compute the quantization parameters.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  averaging_constant
                 </strong>
                 – Averaging constant for min/max.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_min
                 </strong>
                 – Minimum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_max
                 </strong>
                 – Maximum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <p>
             The moving average min/max is computed as follows
            </p>
            <div class="math">
             <span class="katex-display">
              <span class="katex">
               <span class="katex-mathml">
                <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mtable columnalign="left left" columnspacing="1em" rowspacing="0.1600em">
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <mrow>
                       <msub>
                        <mi>
                         x
                        </mi>
                        <mtext>
                         min
                        </mtext>
                       </msub>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         {
                        </mo>
                        <mtable columnalign="left left" columnspacing="1em" rowspacing="0.3600em">
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              min
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mtext>
                              if
                             </mtext>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               min
                              </mtext>
                             </msub>
                             <mo>
                              =
                             </mo>
                             <mtext>
                              None
                             </mtext>
                            </mrow>
                           </mstyle>
                          </mtd>
                         </mtr>
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mn>
                              1
                             </mn>
                             <mo>
                              −
                             </mo>
                             <mi>
                              c
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               min
                              </mtext>
                             </msub>
                             <mo>
                              +
                             </mo>
                             <mi>
                              c
                             </mi>
                             <mi>
                              min
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             otherwise
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                        </mtable>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                   <mtr>
                    <mtd>
                     <mstyle displaystyle="false" scriptlevel="0">
                      <mrow>
                       <msub>
                        <mi>
                         x
                        </mi>
                        <mtext>
                         max
                        </mtext>
                       </msub>
                       <mo>
                        =
                       </mo>
                       <mrow>
                        <mo fence="true">
                         {
                        </mo>
                        <mtable columnalign="left left" columnspacing="1em" rowspacing="0.3600em">
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mi>
                              max
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mtext>
                              if
                             </mtext>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               max
                              </mtext>
                             </msub>
                             <mo>
                              =
                             </mo>
                             <mtext>
                              None
                             </mtext>
                            </mrow>
                           </mstyle>
                          </mtd>
                         </mtr>
                         <mtr>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mrow>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mn>
                              1
                             </mn>
                             <mo>
                              −
                             </mo>
                             <mi>
                              c
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                             <msub>
                              <mi>
                               x
                              </mi>
                              <mtext>
                               max
                              </mtext>
                             </msub>
                             <mo>
                              +
                             </mo>
                             <mi>
                              c
                             </mi>
                             <mi>
                              max
                             </mi>
                             <mo>
                              ⁡
                             </mo>
                             <mo stretchy="false">
                              (
                             </mo>
                             <mi>
                              X
                             </mi>
                             <mo stretchy="false">
                              )
                             </mo>
                            </mrow>
                           </mstyle>
                          </mtd>
                          <mtd>
                           <mstyle displaystyle="false" scriptlevel="0">
                            <mtext>
                             otherwise
                            </mtext>
                           </mstyle>
                          </mtd>
                         </mtr>
                        </mtable>
                       </mrow>
                      </mrow>
                     </mstyle>
                    </mtd>
                   </mtr>
                  </mtable>
                  <annotation encoding="application/x-tex">
                   \begin{array}{ll}
        x_\text{min} = \begin{cases}
            \min(X) &amp; \text{if~}x_\text{min} = \text{None} \\
            (1 - c) x_\text{min} + c \min(X) &amp; \text{otherwise}
        \end{cases}\\
        x_\text{max} = \begin{cases}
            \max(X) &amp; \text{if~}x_\text{max} = \text{None} \\
            (1 - c) x_\text{max} + c \max(X) &amp; \text{otherwise}
        \end{cases}\\
\end{array}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:6.0000599999999995em;vertical-align:-2.7500299999999998em;">
                 </span>
                 <span class="mord">
                  <span class="mtable">
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                   <span class="col-align-l">
                    <span class="vlist-t vlist-t2">
                     <span class="vlist-r">
                      <span class="vlist" style="height:3.2500299999999998em;">
                       <span style="top:-5.25003em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.31750199999999995em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  min
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           <span class="delimsizing size4">
                            {
                           </span>
                          </span>
                          <span class="mord">
                           <span class="mtable">
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   min
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord">
                                   1
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mbin">
                                   −
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mord mathnormal">
                                   c
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.31750199999999995em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           min
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mbin">
                                   +
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mord mathnormal">
                                   c
                                  </span>
                                  <span class="mspace" style="margin-right:0.16666666666666666em;">
                                  </span>
                                  <span class="mop">
                                   min
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="arraycolsep" style="width:1em;">
                            </span>
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    if
                                   </span>
                                   <span class="mord nobreak">
                                   </span>
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.31750199999999995em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           min
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mrel">
                                   =
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mord text">
                                   <span class="mord">
                                    None
                                   </span>
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    otherwise
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose nulldelimiter">
                          </span>
                         </span>
                        </span>
                       </span>
                       <span style="top:-2.25em;">
                        <span class="pstrut" style="height:3.75em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           x
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord text mtight">
                                 <span class="mord mtight">
                                  max
                                 </span>
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="mrel">
                          =
                         </span>
                         <span class="mspace" style="margin-right:0.2777777777777778em;">
                         </span>
                         <span class="minner">
                          <span class="mopen delimcenter" style="top:0em;">
                           <span class="delimsizing size4">
                            {
                           </span>
                          </span>
                          <span class="mord">
                           <span class="mtable">
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mop">
                                   max
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord">
                                   1
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mbin">
                                   −
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mord mathnormal">
                                   c
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.151392em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           max
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mbin">
                                   +
                                  </span>
                                  <span class="mspace" style="margin-right:0.2222222222222222em;">
                                  </span>
                                  <span class="mord mathnormal">
                                   c
                                  </span>
                                  <span class="mspace" style="margin-right:0.16666666666666666em;">
                                  </span>
                                  <span class="mop">
                                   max
                                  </span>
                                  <span class="mopen">
                                   (
                                  </span>
                                  <span class="mord mathnormal" style="margin-right:0.07847em;">
                                   X
                                  </span>
                                  <span class="mclose">
                                   )
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="arraycolsep" style="width:1em;">
                            </span>
                            <span class="col-align-l">
                             <span class="vlist-t vlist-t2">
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.69em;">
                                <span style="top:-3.69em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    if
                                   </span>
                                   <span class="mord nobreak">
                                   </span>
                                  </span>
                                  <span class="mord">
                                   <span class="mord mathnormal">
                                    x
                                   </span>
                                   <span class="msupsub">
                                    <span class="vlist-t vlist-t2">
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.151392em;">
                                       <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                        <span class="pstrut" style="height:2.7em;">
                                        </span>
                                        <span class="sizing reset-size6 size3 mtight">
                                         <span class="mord text mtight">
                                          <span class="mord mtight">
                                           max
                                          </span>
                                         </span>
                                        </span>
                                       </span>
                                      </span>
                                      <span class="vlist-s">
                                       ​
                                      </span>
                                     </span>
                                     <span class="vlist-r">
                                      <span class="vlist" style="height:0.15em;">
                                       <span>
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mrel">
                                   =
                                  </span>
                                  <span class="mspace" style="margin-right:0.2777777777777778em;">
                                  </span>
                                  <span class="mord text">
                                   <span class="mord">
                                    None
                                   </span>
                                  </span>
                                 </span>
                                </span>
                                <span style="top:-2.25em;">
                                 <span class="pstrut" style="height:3.008em;">
                                 </span>
                                 <span class="mord">
                                  <span class="mord text">
                                   <span class="mord">
                                    otherwise
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="vlist-s">
                                ​
                               </span>
                              </span>
                              <span class="vlist-r">
                               <span class="vlist" style="height:1.19em;">
                                <span>
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                          <span class="mclose nulldelimiter">
                          </span>
                         </span>
                        </span>
                       </span>
                      </span>
                      <span class="vlist-s">
                       ​
                      </span>
                     </span>
                     <span class="vlist-r">
                      <span class="vlist" style="height:2.7500299999999998em;">
                       <span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                   <span class="arraycolsep" style="width:0.5em;">
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </div>
            <p>
             where
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <msub>
                    <mi>
                     x
                    </mi>
                    <mtext>
                     min/max
                    </mtext>
                   </msub>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   x_\text{min/max}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.7857599999999999em;vertical-align:-0.3551999999999999em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   x
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.34480000000000005em;">
                      <span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord text mtight">
                         <span class="mord mtight">
                          min/max
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.3551999999999999em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             is the running average min/max,
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    X
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   X
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.68333em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal" style="margin-right:0.07847em;">
                  X
                 </span>
                </span>
               </span>
              </span>
             </span>
             is
is the incoming tensor, and
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    c
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   c
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.43056em;vertical-align:0em;">
                 </span>
                 <span class="mord mathnormal">
                  c
                 </span>
                </span>
               </span>
              </span>
             </span>
             is the
             <code class="docutils literal notranslate">
              <span class="pre">
               averaging_constant
              </span>
             </code>
             .
            </p>
            <p>
             The scale and zero point are then computed as in
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MinMaxObserver
              </span>
             </code>
             .
            </p>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              Only works with
              <code class="docutils literal notranslate">
               <span class="pre">
                torch.per_tensor_affine
               </span>
              </code>
              quantization scheme.
             </p>
            </div>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              If the running minimum equals to the running maximum, the scale
and zero_point are set to 1.0 and 0.
             </p>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.PerChannelMinMaxObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              PerChannelMinMaxObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               ch_axis
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.quint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qscheme
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.per_channel_affine
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               reduce_range
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_min
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_max
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               factory_kwargs
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#PerChannelMinMaxObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.PerChannelMinMaxObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Observer module for computing the quantization parameters based on the
running per channel min and max values.
            </p>
            <p>
             This observer uses the tensor min/max statistics to compute the per channel
quantization parameters. The module records the running minimum and maximum
of incoming tensors, and uses this statistic to compute the quantization
parameters.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  ch_axis
                 </strong>
                 – Channel axis
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_min
                 </strong>
                 – Minimum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_max
                 </strong>
                 – Maximum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <p>
             The quantization parameters are computed the same way as in
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MinMaxObserver
              </span>
             </code>
             , with the difference
that the running min/max values are stored per channel.
Scales and zero points are thus computed per channel as well.
            </p>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              If the running minimum equals to the running maximum, the scales
and zero_points are set to 1.0 and 0.
             </p>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.MovingAveragePerChannelMinMaxObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              MovingAveragePerChannelMinMaxObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               averaging_constant
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0.01
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               ch_axis
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.quint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qscheme
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.per_channel_affine
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               reduce_range
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_min
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               quant_max
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="o">
              <span class="pre">
               **
              </span>
             </span>
             <span class="n">
              <span class="pre">
               kwargs
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#MovingAveragePerChannelMinMaxObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.MovingAveragePerChannelMinMaxObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Observer module for computing the quantization parameters based on the
running per channel min and max values.
            </p>
            <p>
             This observer uses the tensor min/max statistics to compute the per channel
quantization parameters. The module records the running minimum and maximum
of incoming tensors, and uses this statistic to compute the quantization
parameters.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  averaging_constant
                 </strong>
                 – Averaging constant for min/max.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  ch_axis
                 </strong>
                 – Channel axis
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_min
                 </strong>
                 – Minimum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_max
                 </strong>
                 – Maximum quantization value. If unspecified, it will follow the 8-bit setup.
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <p>
             The quantization parameters are computed the same way as in
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MovingAverageMinMaxObserver
              </span>
             </code>
             , with the
difference that the running min/max values are stored per channel.
Scales and zero points are thus computed per channel as well.
            </p>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              If the running minimum equals to the running maximum, the scales
and zero_points are set to 1.0 and 0.
             </p>
            </div>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.HistogramObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              HistogramObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               bins
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               2048
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               upsample_rate
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               128
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.quint8
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               qscheme
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.per_tensor_affine
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               reduce_range
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               factory_kwargs
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#HistogramObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.HistogramObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             The module records the running histogram of tensor values along with
min/max values.
             <code class="docutils literal notranslate">
              <span class="pre">
               calculate_qparams
              </span>
             </code>
             will calculate scale and zero_point.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  bins
                 </strong>
                 – Number of bins to use for the histogram
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  upsample_rate
                 </strong>
                 – Factor by which the histograms are upsampled, this is
used to interpolate histograms with varying ranges across observations
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <p>
             The scale and zero point are computed as follows:
            </p>
            <ol class="arabic simple">
             <li>
              <dl class="simple">
               <dt>
                Create the histogram of the incoming inputs.
               </dt>
               <dd>
                <p>
                 The histogram is computed continuously, and the ranges per bin change
with every new tensor observed.
                </p>
               </dd>
              </dl>
             </li>
             <li>
              <dl class="simple">
               <dt>
                Search the distribution in the histogram for optimal min/max values.
               </dt>
               <dd>
                <p>
                 The search for the min/max values ensures the minimization of the
quantization error with respect to the floating point model.
                </p>
               </dd>
              </dl>
             </li>
             <li>
              <dl class="simple">
               <dt>
                Compute the scale and zero point the same way as in the
               </dt>
               <dd>
                <p>
                 <a class="reference internal" href="#torch.quantization.MinMaxObserver" title="torch.quantization.MinMaxObserver">
                  <code class="xref py py-class docutils literal notranslate">
                   <span class="pre">
                    MinMaxObserver
                   </span>
                  </code>
                 </a>
                </p>
               </dd>
              </dl>
             </li>
            </ol>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.FakeQuantize">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              FakeQuantize
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="pre">
              observer=&lt;class
             </span>
             <span class="pre">
              'torch.ao.quantization.observer.MovingAverageMinMaxObserver'&gt;
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              quant_min=0
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              quant_max=255
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="pre">
              **observer_kwargs
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/fake_quantize.html#FakeQuantize">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.FakeQuantize" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Simulate the quantize and dequantize operations in training time.
The output of this module is given by
            </p>
            <p>
             x_out = (clamp(round(x/scale + zero_point), quant_min, quant_max)-zero_point)*scale
            </p>
            <ul class="simple">
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 scale
                </span>
               </code>
               defines the scale factor used for quantization.
              </p>
             </li>
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 zero_point
                </span>
               </code>
               specifies the quantized value to which 0 in floating point maps to
              </p>
             </li>
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 quant_min
                </span>
               </code>
               specifies the minimum allowable quantized value.
              </p>
             </li>
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 quant_max
                </span>
               </code>
               specifies the maximum allowable quantized value.
              </p>
             </li>
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 fake_quant_enable
                </span>
               </code>
               controls the application of fake quantization on tensors, note that
statistics can still be updated.
              </p>
             </li>
             <li>
              <p>
               <code class="xref py py-attr docutils literal notranslate">
                <span class="pre">
                 observer_enable
                </span>
               </code>
               controls statistics collection on tensors
              </p>
             </li>
             <li>
              <dl class="simple">
               <dt>
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  dtype
                 </span>
                </code>
                specifies the quantized dtype that is being emulated with fake-quantization,
               </dt>
               <dd>
                <p>
                 allowable values are torch.qint8 and torch.quint8. The values of quant_min and
quant_max should be chosen to be consistent with the dtype
                </p>
               </dd>
              </dl>
             </li>
            </ul>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  observer
                 </strong>
                 (
                 <em>
                  module
                 </em>
                 ) – Module for observing statistics on input tensors and calculating scale
and zero-point.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_min
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">
                  <em>
                   int
                  </em>
                 </a>
                 ) – The minimum allowable quantized value.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  quant_max
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">
                  <em>
                   int
                  </em>
                 </a>
                 ) – The maximum allowable quantized value.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  observer_kwargs
                 </strong>
                 (
                 <em>
                  optional
                 </em>
                 ) – Arguments for the observer module
                </p>
               </li>
              </ul>
             </dd>
             <dt class="field-even">
              Variables
             </dt>
             <dd class="field-even">
              <p>
               <strong>
                ~FakeQuantize.observer
               </strong>
               (
               <a class="reference internal" href="generated/torch.nn.Module.html#torch.nn.Module" title="torch.nn.Module">
                <em>
                 Module
                </em>
               </a>
               ) – User provided module that collects statistics on the input tensor and
provides a method to calculate scale and zero-point.
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.NoopObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              NoopObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dtype
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               torch.float16
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               custom_op_name
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               ''
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#NoopObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.NoopObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Observer that doesn’t do anything and just passes its configuration to the
quantized module’s
             <code class="docutils literal notranslate">
              <span class="pre">
               .from_float()
              </span>
             </code>
             .
            </p>
            <p>
             Primarily used for quantization to float16 which doesn’t require determining
ranges.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  custom_op_name
                 </strong>
                 – (temporary) specify this observer for an operator that doesn’t require any observation
(Can be used in Graph Mode Passes for special case ops).
                </p>
               </li>
              </ul>
             </dd>
            </dl>
           </dd>
          </dl>
         </div>
         <div class="section" id="debugging-utilities">
          <h2>
           Debugging utilities
           <a class="headerlink" href="#debugging-utilities" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py function">
           <dt id="torch.quantization.get_observer_dict">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              get_observer_dict
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               mod
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               target_dict
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               prefix
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               ''
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/quantize.html#get_observer_dict">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.get_observer_dict" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Traverse the modules and save all observers into dict.
This is mainly used for quantization accuracy debug
:param mod: the top module we want to save all observers
:param prefix: the prefix for the current module
:param target_dict: the dictionary used to save all the observers
            </p>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.quantization.RecordingObserver">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.quantization.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              RecordingObserver
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="o">
              <span class="pre">
               **
              </span>
             </span>
             <span class="n">
              <span class="pre">
               kwargs
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/ao/quantization/observer.html#RecordingObserver">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.quantization.RecordingObserver" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             The module is mainly for debug and records the tensor values during runtime.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  dtype
                 </strong>
                 – Quantized data type
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  qscheme
                 </strong>
                 – Quantization scheme to be used
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  reduce_range
                 </strong>
                 – Reduces the range of the quantized data type by 1 bit
                </p>
               </li>
              </ul>
             </dd>
            </dl>
           </dd>
          </dl>
          <table class="longtable docutils colwidths-auto align-default">
           <tbody>
            <tr class="row-odd">
             <td>
              <p>
               <a class="reference internal" href="torch.nn.intrinsic.html#module-torch.nn.intrinsic" title="torch.nn.intrinsic">
                <code class="xref py py-obj docutils literal notranslate">
                 <span class="pre">
                  nn.intrinsic
                 </span>
                </code>
               </a>
              </p>
             </td>
             <td>
              <p>
              </p>
             </td>
            </tr>
           </tbody>
          </table>
         </div>
        </div>
       </article>
      </div>
     </div>
    </div>
   </section>
  </div>
 </body>
</html>