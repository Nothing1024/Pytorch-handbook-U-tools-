<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   MaxUnpool2d — PyTorch 1.10 documentation
  </title>
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <!-- Google Analytics -->
  <!-- Preload the theme fonts -->
  <!-- Preload the katex fonts -->
 </head>
 <body class="pytorch-body">
  <div class="pytorch-container">
   <section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
    <div class="pytorch-content-left">
     <div class="rst-content">
      <div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
        <div class="section" id="maxunpool2d">
         <h1>
          MaxUnpool2d
          <a class="headerlink" href="#maxunpool2d" title="Permalink to this headline">
           ¶
          </a>
         </h1>
         <dl class="py class">
          <dt id="torch.nn.MaxUnpool2d">
           <em class="property">
            <span class="pre">
             class
            </span>
           </em>
           <code class="sig-prename descclassname">
            <span class="pre">
             torch.nn.
            </span>
           </code>
           <code class="sig-name descname">
            <span class="pre">
             MaxUnpool2d
            </span>
           </code>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              kernel_size
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              stride
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              padding
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              0
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           <a class="reference internal" href="../_modules/torch/nn/modules/pooling.html#MaxUnpool2d">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#torch.nn.MaxUnpool2d" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Computes a partial inverse of
            <a class="reference internal" href="torch.nn.MaxPool2d.html#torch.nn.MaxPool2d" title="torch.nn.MaxPool2d">
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MaxPool2d
              </span>
             </code>
            </a>
            .
           </p>
           <p>
            <a class="reference internal" href="torch.nn.MaxPool2d.html#torch.nn.MaxPool2d" title="torch.nn.MaxPool2d">
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MaxPool2d
              </span>
             </code>
            </a>
            is not fully invertible, since the non-maximal values are lost.
           </p>
           <p>
            <a class="reference internal" href="#torch.nn.MaxUnpool2d" title="torch.nn.MaxUnpool2d">
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MaxUnpool2d
              </span>
             </code>
            </a>
            takes in as input the output of
            <a class="reference internal" href="torch.nn.MaxPool2d.html#torch.nn.MaxPool2d" title="torch.nn.MaxPool2d">
             <code class="xref py py-class docutils literal notranslate">
              <span class="pre">
               MaxPool2d
              </span>
             </code>
            </a>
            including the indices of the maximal values and computes a partial inverse
in which all non-maximal values are set to zero.
           </p>
           <div class="admonition note">
            <p class="admonition-title">
             Note
            </p>
            <p>
             <a class="reference internal" href="torch.nn.MaxPool2d.html#torch.nn.MaxPool2d" title="torch.nn.MaxPool2d">
              <code class="xref py py-class docutils literal notranslate">
               <span class="pre">
                MaxPool2d
               </span>
              </code>
             </a>
             can map several input sizes to the same output
sizes. Hence, the inversion process can get ambiguous.
To accommodate this, you can provide the needed output size
as an additional argument
             <code class="xref py py-attr docutils literal notranslate">
              <span class="pre">
               output_size
              </span>
             </code>
             in the forward call.
See the Inputs and Example below.
            </p>
           </div>
           <dl class="field-list simple">
            <dt class="field-odd">
             Parameters
            </dt>
            <dd class="field-odd">
             <ul class="simple">
              <li>
               <p>
                <strong>
                 kernel_size
                </strong>
                (
                <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">
                 <em>
                  int
                 </em>
                </a>
                <em>
                 or
                </em>
                <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">
                 <em>
                  tuple
                 </em>
                </a>
                ) – Size of the max pooling window.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 stride
                </strong>
                (
                <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">
                 <em>
                  int
                 </em>
                </a>
                <em>
                 or
                </em>
                <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">
                 <em>
                  tuple
                 </em>
                </a>
                ) – Stride of the max pooling window.
It is set to
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  kernel_size
                 </span>
                </code>
                by default.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 padding
                </strong>
                (
                <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">
                 <em>
                  int
                 </em>
                </a>
                <em>
                 or
                </em>
                <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">
                 <em>
                  tuple
                 </em>
                </a>
                ) – Padding that was added to the input
               </p>
              </li>
             </ul>
            </dd>
           </dl>
           <dl>
            <dt>
             Inputs:
            </dt>
            <dd>
             <ul class="simple">
              <li>
               <p>
                <cite>
                 input
                </cite>
                : the input Tensor to invert
               </p>
              </li>
              <li>
               <p>
                <cite>
                 indices
                </cite>
                : the indices given out by
                <a class="reference internal" href="torch.nn.MaxPool2d.html#torch.nn.MaxPool2d" title="torch.nn.MaxPool2d">
                 <code class="xref py py-class docutils literal notranslate">
                  <span class="pre">
                   MaxPool2d
                  </span>
                 </code>
                </a>
               </p>
              </li>
              <li>
               <p>
                <cite>
                 output_size
                </cite>
                (optional): the targeted output size
               </p>
              </li>
             </ul>
            </dd>
            <dt>
             Shape:
            </dt>
            <dd>
             <ul>
              <li>
               <p>
                Input:
                <span class="math">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       N
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <mi>
                       C
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo stretchy="false">
                       )
                      </mo>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      (N, C, H_{in}, W_{in})
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.10903em;">
                     N
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.07153em;">
                     C
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                or
                <span class="math">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       C
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo stretchy="false">
                       )
                      </mo>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      (C, H_{in}, W_{in})
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.07153em;">
                     C
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                .
               </p>
              </li>
              <li>
               <p>
                Output:
                <span class="math">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       N
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <mi>
                       C
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo stretchy="false">
                       )
                      </mo>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      (N, C, H_{out}, W_{out})
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.10903em;">
                     N
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.07153em;">
                     C
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                or
                <span class="math">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       C
                      </mi>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo separator="true">
                       ,
                      </mo>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo stretchy="false">
                       )
                      </mo>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      (C, H_{out}, W_{out})
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right:0.07153em;">
                     C
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mpunct">
                     ,
                    </span>
                    <span class="mspace" style="margin-right:0.16666666666666666em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                , where
               </p>
               <div class="math">
                <span class="katex-display">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo>
                       =
                      </mo>
                      <mo stretchy="false">
                       (
                      </mo>
                      <msub>
                       <mi>
                        H
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo>
                       −
                      </mo>
                      <mn>
                       1
                      </mn>
                      <mo stretchy="false">
                       )
                      </mo>
                      <mo>
                       ×
                      </mo>
                      <mtext>
                       stride[0]
                      </mtext>
                      <mo>
                       −
                      </mo>
                      <mn>
                       2
                      </mn>
                      <mo>
                       ×
                      </mo>
                      <mtext>
                       padding[0]
                      </mtext>
                      <mo>
                       +
                      </mo>
                      <mtext>
                       kernel_size[0]
                      </mtext>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      H_{out} = (H_{in} - 1) \times \text{stride[0]} - 2 \times \text{padding[0]} + \text{kernel\_size[0]}
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:0.83333em;vertical-align:-0.15em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2777777777777778em;">
                    </span>
                    <span class="mrel">
                     =
                    </span>
                    <span class="mspace" style="margin-right:0.2777777777777778em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.08125em;">
                      H
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord">
                     1
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     ×
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      stride[0]
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:0.72777em;vertical-align:-0.08333em;">
                    </span>
                    <span class="mord">
                     2
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     ×
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      padding[0]
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     +
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1.06em;vertical-align:-0.31em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      kernel_size[0]
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </div>
               <div class="math">
                <span class="katex-display">
                 <span class="katex">
                  <span class="katex-mathml">
                   <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                    <semantics>
                     <mrow>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         o
                        </mi>
                        <mi>
                         u
                        </mi>
                        <mi>
                         t
                        </mi>
                       </mrow>
                      </msub>
                      <mo>
                       =
                      </mo>
                      <mo stretchy="false">
                       (
                      </mo>
                      <msub>
                       <mi>
                        W
                       </mi>
                       <mrow>
                        <mi>
                         i
                        </mi>
                        <mi>
                         n
                        </mi>
                       </mrow>
                      </msub>
                      <mo>
                       −
                      </mo>
                      <mn>
                       1
                      </mn>
                      <mo stretchy="false">
                       )
                      </mo>
                      <mo>
                       ×
                      </mo>
                      <mtext>
                       stride[1]
                      </mtext>
                      <mo>
                       −
                      </mo>
                      <mn>
                       2
                      </mn>
                      <mo>
                       ×
                      </mo>
                      <mtext>
                       padding[1]
                      </mtext>
                      <mo>
                       +
                      </mo>
                      <mtext>
                       kernel_size[1]
                      </mtext>
                     </mrow>
                     <annotation encoding="application/x-tex">
                      W_{out} = (W_{in} - 1) \times \text{stride[1]} - 2 \times \text{padding[1]} + \text{kernel\_size[1]}
                     </annotation>
                    </semantics>
                   </math>
                  </span>
                  <span aria-hidden="true" class="katex-html">
                   <span class="base">
                    <span class="strut" style="height:0.83333em;vertical-align:-0.15em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.2805559999999999em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             o
                            </span>
                            <span class="mord mathnormal mtight">
                             u
                            </span>
                            <span class="mord mathnormal mtight">
                             t
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2777777777777778em;">
                    </span>
                    <span class="mrel">
                     =
                    </span>
                    <span class="mspace" style="margin-right:0.2777777777777778em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right:0.13889em;">
                      W
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.31166399999999994em;">
                         <span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;">
                          <span class="pstrut" style="height:2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mathnormal mtight">
                             in
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height:0.15em;">
                         <span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord">
                     1
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     ×
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      stride[1]
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:0.72777em;vertical-align:-0.08333em;">
                    </span>
                    <span class="mord">
                     2
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     ×
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1em;vertical-align:-0.25em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      padding[1]
                     </span>
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                    <span class="mbin">
                     +
                    </span>
                    <span class="mspace" style="margin-right:0.2222222222222222em;">
                    </span>
                   </span>
                   <span class="base">
                    <span class="strut" style="height:1.06em;vertical-align:-0.31em;">
                    </span>
                    <span class="mord text">
                     <span class="mord">
                      kernel_size[1]
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </div>
               <p>
                or as given by
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  output_size
                 </span>
                </code>
                in the call operator
               </p>
              </li>
             </ul>
            </dd>
           </dl>
           <p>
            Example:
           </p>
           <div class="highlight-default notranslate">
            <div class="highlight">
             <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pool</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">MaxPool2d</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">return_indices</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unpool</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">MaxUnpool2d</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">input</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
<span class="go">                            [ 5,  6,  7,  8],</span>
<span class="go">                            [ 9, 10, 11, 12],</span>
<span class="go">                            [13, 14, 15, 16]]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">pool</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unpool</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">indices</span><span class="p">)</span>
<span class="go">tensor([[[[  0.,   0.,   0.,   0.],</span>
<span class="go">          [  0.,   6.,   0.,   8.],</span>
<span class="go">          [  0.,   0.,   0.,   0.],</span>
<span class="go">          [  0.,  14.,   0.,  16.]]]])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify a different output size than input size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unpool</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">output_size</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">Size</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]))</span>
<span class="go">tensor([[[[  0.,   0.,   0.,   0.,   0.],</span>
<span class="go">          [  6.,   0.,   8.,   0.,   0.],</span>
<span class="go">          [  0.,   0.,   0.,  14.,   0.],</span>
<span class="go">          [ 16.,   0.,   0.,   0.,   0.],</span>
<span class="go">          [  0.,   0.,   0.,   0.,   0.]]]])</span>
</pre>
            </div>
           </div>
          </dd>
         </dl>
        </div>
       </article>
      </div>
     </div>
    </div>
   </section>
  </div>
 </body>
</html>