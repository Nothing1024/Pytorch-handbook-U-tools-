<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   torch.gradient — PyTorch 1.10 documentation
  </title>
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <!-- Google Analytics -->
  <!-- Preload the theme fonts -->
  <!-- Preload the katex fonts -->
 </head>
 <body class="pytorch-body">
  <div class="pytorch-container">
   <section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
    <div class="pytorch-content-left">
     <div class="rst-content">
      <div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
        <div class="section" id="torch-gradient">
         <h1>
          torch.gradient
          <a class="headerlink" href="#torch-gradient" title="Permalink to this headline">
           ¶
          </a>
         </h1>
         <dl class="py function">
          <dt id="torch.gradient">
           <code class="sig-prename descclassname">
            <span class="pre">
             torch.
            </span>
           </code>
           <code class="sig-name descname">
            <span class="pre">
             gradient
            </span>
           </code>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              input
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="o">
             <span class="pre">
              *
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              spacing
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              1
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              dim
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              edge_order
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              1
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           →
           <span class="pre">
            List
           </span>
           <span class="pre">
            of
           </span>
           <span class="pre">
            Tensors
           </span>
           <a class="headerlink" href="#torch.gradient" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Estimates the gradient of a function
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                  <mo>
                   :
                  </mo>
                  <msup>
                   <mi mathvariant="double-struck">
                    R
                   </mi>
                   <mi>
                    n
                   </mi>
                  </msup>
                  <mo>
                   →
                  </mo>
                  <mi mathvariant="double-struck">
                   R
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g : \mathbb{R}^n \rightarrow \mathbb{R}
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 :
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.68889em;vertical-align:0em;">
                </span>
                <span class="mord">
                 <span class="mord mathbb">
                  R
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.664392em;">
                     <span style="top:-3.063em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mathnormal mtight">
                        n
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 →
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.68889em;vertical-align:0em;">
                </span>
                <span class="mord mathbb">
                 R
                </span>
               </span>
              </span>
             </span>
            </span>
            in
one or more dimensions using the
            <a class="reference external" href="https://www.ams.org/journals/mcom/1988-51-184/S0025-5718-1988-0935077-0/S0025-5718-1988-0935077-0.pdf">
             second-order accurate central differences method
            </a>
            .
           </p>
           <p>
            The gradient of
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
               </span>
              </span>
             </span>
            </span>
            is estimated using samples. By default, when
            <code class="xref py py-attr docutils literal notranslate">
             <span class="pre">
              spacing
             </span>
            </code>
            is not
specified, the samples are entirely described by
            <code class="xref py py-attr docutils literal notranslate">
             <span class="pre">
              input
             </span>
            </code>
            , and the mapping of input coordinates
to an output is the same as the tensor’s mapping of indices to values. For example, for a three-dimensional
            <code class="xref py py-attr docutils literal notranslate">
             <span class="pre">
              input
             </span>
            </code>
            the function described is
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                  <mo>
                   :
                  </mo>
                  <msup>
                   <mi mathvariant="double-struck">
                    R
                   </mi>
                   <mn>
                    3
                   </mn>
                  </msup>
                  <mo>
                   →
                  </mo>
                  <mi mathvariant="double-struck">
                   R
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g : \mathbb{R}^3 \rightarrow \mathbb{R}
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 :
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.8141079999999999em;vertical-align:0em;">
                </span>
                <span class="mord">
                 <span class="mord mathbb">
                  R
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.8141079999999999em;">
                     <span style="top:-3.063em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mtight">
                        3
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 →
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.68889em;vertical-align:0em;">
                </span>
                <span class="mord mathbb">
                 R
                </span>
               </span>
              </span>
             </span>
            </span>
            , and
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                  <mo stretchy="false">
                   (
                  </mo>
                  <mn>
                   1
                  </mn>
                  <mo separator="true">
                   ,
                  </mo>
                  <mn>
                   2
                  </mn>
                  <mo separator="true">
                   ,
                  </mo>
                  <mn>
                   3
                  </mn>
                  <mo stretchy="false">
                   )
                  </mo>
                  <mtext>
                  </mtext>
                  <mo>
                   =
                  </mo>
                  <mo>
                   =
                  </mo>
                  <mi>
                   i
                  </mi>
                  <mi>
                   n
                  </mi>
                  <mi>
                   p
                  </mi>
                  <mi>
                   u
                  </mi>
                  <mi>
                   t
                  </mi>
                  <mo stretchy="false">
                   [
                  </mo>
                  <mn>
                   1
                  </mn>
                  <mo separator="true">
                   ,
                  </mo>
                  <mn>
                   2
                  </mn>
                  <mo separator="true">
                   ,
                  </mo>
                  <mn>
                   3
                  </mn>
                  <mo stretchy="false">
                   ]
                  </mo>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g(1, 2, 3)\ == input[1, 2, 3]
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
                <span class="mopen">
                 (
                </span>
                <span class="mord">
                 1
                </span>
                <span class="mpunct">
                 ,
                </span>
                <span class="mspace" style="margin-right:0.16666666666666666em;">
                </span>
                <span class="mord">
                 2
                </span>
                <span class="mpunct">
                 ,
                </span>
                <span class="mspace" style="margin-right:0.16666666666666666em;">
                </span>
                <span class="mord">
                 3
                </span>
                <span class="mclose">
                 )
                </span>
                <span class="mspace">
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 ==
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mord mathnormal">
                 in
                </span>
                <span class="mord mathnormal">
                 p
                </span>
                <span class="mord mathnormal">
                 u
                </span>
                <span class="mord mathnormal">
                 t
                </span>
                <span class="mopen">
                 [
                </span>
                <span class="mord">
                 1
                </span>
                <span class="mpunct">
                 ,
                </span>
                <span class="mspace" style="margin-right:0.16666666666666666em;">
                </span>
                <span class="mord">
                 2
                </span>
                <span class="mpunct">
                 ,
                </span>
                <span class="mspace" style="margin-right:0.16666666666666666em;">
                </span>
                <span class="mord">
                 3
                </span>
                <span class="mclose">
                 ]
                </span>
               </span>
              </span>
             </span>
            </span>
            .
           </p>
           <p>
            When
            <code class="xref py py-attr docutils literal notranslate">
             <span class="pre">
              spacing
             </span>
            </code>
            is specified, it modifies the relationship between
            <code class="xref py py-attr docutils literal notranslate">
             <span class="pre">
              input
             </span>
            </code>
            and input coordinates.
This is detailed in the “Keyword Arguments” section below.
           </p>
           <p>
            The gradient is estimated by estimating each partial derivative of
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
               </span>
              </span>
             </span>
            </span>
            independently. This estimation is
accurate if
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   g
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  g
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.03588em;">
                 g
                </span>
               </span>
              </span>
             </span>
            </span>
            is in
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <msup>
                   <mi>
                    C
                   </mi>
                   <mn>
                    3
                   </mn>
                  </msup>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  C^3
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.8141079999999999em;vertical-align:0em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal" style="margin-right:0.07153em;">
                  C
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.8141079999999999em;">
                     <span style="top:-3.063em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mtight">
                        3
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            (it has at least 3 continuous derivatives), and the estimation can be
improved by providing closer samples. Mathematically, the value at each interior point of a partial derivative
is estimated using
            <a class="reference external" href="https://en.wikipedia.org/wiki/Taylor%27s_theorem">
             Taylor’s theorem with remainder
            </a>
            .
Letting
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   x
                  </mi>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  x
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.43056em;vertical-align:0em;">
                </span>
                <span class="mord mathnormal">
                 x
                </span>
               </span>
              </span>
             </span>
            </span>
            be an interior point and
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   x
                  </mi>
                  <mo>
                   +
                  </mo>
                  <msub>
                   <mi>
                    h
                   </mi>
                   <mi>
                    r
                   </mi>
                  </msub>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  x+h_r
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.66666em;vertical-align:-0.08333em;">
                </span>
                <span class="mord mathnormal">
                 x
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
                <span class="mbin">
                 +
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.84444em;vertical-align:-0.15em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal">
                  h
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t vlist-t2">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.151392em;">
                     <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                        r
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="vlist-s">
                     ​
                    </span>
                   </span>
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.15em;">
                     <span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            be point neighboring it, the partial gradient at
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   f
                  </mi>
                  <mo stretchy="false">
                   (
                  </mo>
                  <mi>
                   x
                  </mi>
                  <mo>
                   +
                  </mo>
                  <msub>
                   <mi>
                    h
                   </mi>
                   <mi>
                    r
                   </mi>
                  </msub>
                  <mo stretchy="false">
                   )
                  </mo>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  f(x+h_r)
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.10764em;">
                 f
                </span>
                <span class="mopen">
                 (
                </span>
                <span class="mord mathnormal">
                 x
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
                <span class="mbin">
                 +
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal">
                  h
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t vlist-t2">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.151392em;">
                     <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                        r
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="vlist-s">
                     ​
                    </span>
                   </span>
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.15em;">
                     <span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="mclose">
                 )
                </span>
               </span>
              </span>
             </span>
            </span>
            is estimated using:
           </p>
           <div class="math">
            <span class="katex-display">
             <span class="katex">
              <span class="katex-mathml">
               <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mtable columnalign="right" columnspacing="" rowspacing="0.2500em">
                  <mtr>
                   <mtd>
                    <mstyle displaystyle="true" scriptlevel="0">
                     <mrow>
                      <mi>
                       f
                      </mi>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       x
                      </mi>
                      <mo>
                       +
                      </mo>
                      <msub>
                       <mi>
                        h
                       </mi>
                       <mi>
                        r
                       </mi>
                      </msub>
                      <mo stretchy="false">
                       )
                      </mo>
                      <mo>
                       =
                      </mo>
                      <mi>
                       f
                      </mi>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       x
                      </mi>
                      <mo stretchy="false">
                       )
                      </mo>
                      <mo>
                       +
                      </mo>
                      <msub>
                       <mi>
                        h
                       </mi>
                       <mi>
                        r
                       </mi>
                      </msub>
                      <msup>
                       <mi>
                        f
                       </mi>
                       <mo lspace="0em" mathvariant="normal" rspace="0em">
                        ′
                       </mo>
                      </msup>
                      <mo stretchy="false">
                       (
                      </mo>
                      <mi>
                       x
                      </mi>
                      <mo stretchy="false">
                       )
                      </mo>
                      <mo>
                       +
                      </mo>
                      <msup>
                       <msub>
                        <mi>
                         h
                        </mi>
                        <mi>
                         r
                        </mi>
                       </msub>
                       <mn>
                        2
                       </mn>
                      </msup>
                      <mfrac>
                       <mrow>
                        <msup>
                         <mi>
                          f
                         </mi>
                         <mrow>
                          <mo mathvariant="normal">
                           ′
                          </mo>
                          <mo mathvariant="normal">
                           ′
                          </mo>
                         </mrow>
                        </msup>
                        <mo stretchy="false">
                         (
                        </mo>
                        <mi>
                         x
                        </mi>
                        <mo stretchy="false">
                         )
                        </mo>
                       </mrow>
                       <mn>
                        2
                       </mn>
                      </mfrac>
                      <mo>
                       +
                      </mo>
                      <msup>
                       <msub>
                        <mi>
                         h
                        </mi>
                        <mi>
                         r
                        </mi>
                       </msub>
                       <mn>
                        3
                       </mn>
                      </msup>
                      <mfrac>
                       <mrow>
                        <msup>
                         <mi>
                          f
                         </mi>
                         <mrow>
                          <mo mathvariant="normal">
                           ′
                          </mo>
                          <mo mathvariant="normal">
                           ′
                          </mo>
                          <mo mathvariant="normal">
                           ′
                          </mo>
                         </mrow>
                        </msup>
                        <mo stretchy="false">
                         (
                        </mo>
                        <msub>
                         <mi>
                          x
                         </mi>
                         <mi>
                          r
                         </mi>
                        </msub>
                        <mo stretchy="false">
                         )
                        </mo>
                       </mrow>
                       <mn>
                        6
                       </mn>
                      </mfrac>
                     </mrow>
                    </mstyle>
                   </mtd>
                  </mtr>
                 </mtable>
                 <annotation encoding="application/x-tex">
                  \begin{aligned}
    f(x+h_r) = f(x) + h_r f'(x) + {h_r}^2  \frac{f''(x)}{2} + {h_r}^3 \frac{f'''(x_r)}{6} \\
\end{aligned}
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:2.414892em;vertical-align:-0.9574460000000001em;">
                </span>
                <span class="mord">
                 <span class="mtable">
                  <span class="col-align-r">
                   <span class="vlist-t vlist-t2">
                    <span class="vlist-r">
                     <span class="vlist" style="height:1.457446em;">
                      <span style="top:-3.4574460000000005em;">
                       <span class="pstrut" style="height:3.4288920000000003em;">
                       </span>
                       <span class="mord">
                        <span class="mord mathnormal" style="margin-right:0.10764em;">
                         f
                        </span>
                        <span class="mopen">
                         (
                        </span>
                        <span class="mord mathnormal">
                         x
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mbin">
                         +
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mord">
                         <span class="mord mathnormal">
                          h
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.151392em;">
                             <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                r
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.15em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="mclose">
                         )
                        </span>
                        <span class="mspace" style="margin-right:0.2777777777777778em;">
                        </span>
                        <span class="mrel">
                         =
                        </span>
                        <span class="mspace" style="margin-right:0.2777777777777778em;">
                        </span>
                        <span class="mord mathnormal" style="margin-right:0.10764em;">
                         f
                        </span>
                        <span class="mopen">
                         (
                        </span>
                        <span class="mord mathnormal">
                         x
                        </span>
                        <span class="mclose">
                         )
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mbin">
                         +
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mord">
                         <span class="mord mathnormal">
                          h
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.151392em;">
                             <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                r
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.15em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="mord">
                         <span class="mord mathnormal" style="margin-right:0.10764em;">
                          f
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.801892em;">
                             <span style="top:-3.113em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mtight">
                                <span class="mord mtight">
                                 ′
                                </span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="mopen">
                         (
                        </span>
                        <span class="mord mathnormal">
                         x
                        </span>
                        <span class="mclose">
                         )
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mbin">
                         +
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord">
                           <span class="mord mathnormal">
                            h
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.151392em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                  r
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.8984479999999999em;">
                             <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mtight">
                                2
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="mord">
                         <span class="mopen nulldelimiter">
                         </span>
                         <span class="mfrac">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:1.428892em;">
                             <span style="top:-2.314em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="mord">
                               <span class="mord">
                                2
                               </span>
                              </span>
                             </span>
                             <span style="top:-3.23em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="frac-line" style="border-bottom-width:0.04em;">
                              </span>
                             </span>
                             <span style="top:-3.677em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="mord">
                               <span class="mord">
                                <span class="mord mathnormal" style="margin-right:0.10764em;">
                                 f
                                </span>
                                <span class="msupsub">
                                 <span class="vlist-t">
                                  <span class="vlist-r">
                                   <span class="vlist" style="height:0.751892em;">
                                    <span style="top:-3.063em;margin-right:0.05em;">
                                     <span class="pstrut" style="height:2.7em;">
                                     </span>
                                     <span class="sizing reset-size6 size3 mtight">
                                      <span class="mord mtight">
                                       <span class="mord mtight">
                                        ′′
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="mopen">
                                (
                               </span>
                               <span class="mord mathnormal">
                                x
                               </span>
                               <span class="mclose">
                                )
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.686em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mclose nulldelimiter">
                         </span>
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mbin">
                         +
                        </span>
                        <span class="mspace" style="margin-right:0.2222222222222222em;">
                        </span>
                        <span class="mord">
                         <span class="mord">
                          <span class="mord">
                           <span class="mord mathnormal">
                            h
                           </span>
                           <span class="msupsub">
                            <span class="vlist-t vlist-t2">
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.151392em;">
                               <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                <span class="pstrut" style="height:2.7em;">
                                </span>
                                <span class="sizing reset-size6 size3 mtight">
                                 <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                  r
                                 </span>
                                </span>
                               </span>
                              </span>
                              <span class="vlist-s">
                               ​
                              </span>
                             </span>
                             <span class="vlist-r">
                              <span class="vlist" style="height:0.15em;">
                               <span>
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.8984479999999999em;">
                             <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mtight">
                                3
                               </span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="mord">
                         <span class="mopen nulldelimiter">
                         </span>
                         <span class="mfrac">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:1.428892em;">
                             <span style="top:-2.314em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="mord">
                               <span class="mord">
                                6
                               </span>
                              </span>
                             </span>
                             <span style="top:-3.23em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="frac-line" style="border-bottom-width:0.04em;">
                              </span>
                             </span>
                             <span style="top:-3.677em;">
                              <span class="pstrut" style="height:3em;">
                              </span>
                              <span class="mord">
                               <span class="mord">
                                <span class="mord mathnormal" style="margin-right:0.10764em;">
                                 f
                                </span>
                                <span class="msupsub">
                                 <span class="vlist-t">
                                  <span class="vlist-r">
                                   <span class="vlist" style="height:0.751892em;">
                                    <span style="top:-3.063em;margin-right:0.05em;">
                                     <span class="pstrut" style="height:2.7em;">
                                     </span>
                                     <span class="sizing reset-size6 size3 mtight">
                                      <span class="mord mtight">
                                       <span class="mord mtight">
                                        ′′′
                                       </span>
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="mopen">
                                (
                               </span>
                               <span class="mord">
                                <span class="mord mathnormal">
                                 x
                                </span>
                                <span class="msupsub">
                                 <span class="vlist-t vlist-t2">
                                  <span class="vlist-r">
                                   <span class="vlist" style="height:0.151392em;">
                                    <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                                     <span class="pstrut" style="height:2.7em;">
                                     </span>
                                     <span class="sizing reset-size6 size3 mtight">
                                      <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                       r
                                      </span>
                                     </span>
                                    </span>
                                   </span>
                                   <span class="vlist-s">
                                    ​
                                   </span>
                                  </span>
                                  <span class="vlist-r">
                                   <span class="vlist" style="height:0.15em;">
                                    <span>
                                    </span>
                                   </span>
                                  </span>
                                 </span>
                                </span>
                               </span>
                               <span class="mclose">
                                )
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.686em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                         <span class="mclose nulldelimiter">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span class="vlist-s">
                      ​
                     </span>
                    </span>
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.9574460000000001em;">
                      <span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </div>
           <p>
            where
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <msub>
                   <mi>
                    x
                   </mi>
                   <mi>
                    r
                   </mi>
                  </msub>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  x_r
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.58056em;vertical-align:-0.15em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal">
                  x
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t vlist-t2">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.151392em;">
                     <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                        r
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="vlist-s">
                     ​
                    </span>
                   </span>
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.15em;">
                     <span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            is a number in the interval
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mo stretchy="false">
                   [
                  </mo>
                  <mi>
                   x
                  </mi>
                  <mo separator="true">
                   ,
                  </mo>
                  <mi>
                   x
                  </mi>
                  <mo>
                   +
                  </mo>
                  <msub>
                   <mi>
                    h
                   </mi>
                   <mi>
                    r
                   </mi>
                  </msub>
                  <mo stretchy="false">
                   ]
                  </mo>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  [x, x+ h_r]
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mopen">
                 [
                </span>
                <span class="mord mathnormal">
                 x
                </span>
                <span class="mpunct">
                 ,
                </span>
                <span class="mspace" style="margin-right:0.16666666666666666em;">
                </span>
                <span class="mord mathnormal">
                 x
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
                <span class="mbin">
                 +
                </span>
                <span class="mspace" style="margin-right:0.2222222222222222em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:1em;vertical-align:-0.25em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal">
                  h
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t vlist-t2">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.151392em;">
                     <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                        r
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="vlist-s">
                     ​
                    </span>
                   </span>
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.15em;">
                     <span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="mclose">
                 ]
                </span>
               </span>
              </span>
             </span>
            </span>
            and using the fact that
            <span class="math">
             <span class="katex">
              <span class="katex-mathml">
               <math xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <mi>
                   f
                  </mi>
                  <mo>
                   ∈
                  </mo>
                  <msup>
                   <mi>
                    C
                   </mi>
                   <mn>
                    3
                   </mn>
                  </msup>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  f \in C^3
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;">
                </span>
                <span class="mord mathnormal" style="margin-right:0.10764em;">
                 f
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 ∈
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:0.8141079999999999em;vertical-align:0em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal" style="margin-right:0.07153em;">
                  C
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.8141079999999999em;">
                     <span style="top:-3.063em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mtight">
                        3
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            we derive :
           </p>
           <div class="math">
            <span class="katex-display">
             <span class="katex">
              <span class="katex-mathml">
               <math display="block" xmlns="http://www.w3.org/1998/Math/MathML">
                <semantics>
                 <mrow>
                  <msup>
                   <mi>
                    f
                   </mi>
                   <mo lspace="0em" mathvariant="normal" rspace="0em">
                    ′
                   </mo>
                  </msup>
                  <mo stretchy="false">
                   (
                  </mo>
                  <mi>
                   x
                  </mi>
                  <mo stretchy="false">
                   )
                  </mo>
                  <mo>
                   ≈
                  </mo>
                  <mfrac>
                   <mrow>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       l
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <mi>
                     f
                    </mi>
                    <mo stretchy="false">
                     (
                    </mo>
                    <mi>
                     x
                    </mi>
                    <mo>
                     +
                    </mo>
                    <msub>
                     <mi>
                      h
                     </mi>
                     <mi>
                      r
                     </mi>
                    </msub>
                    <mo stretchy="false">
                     )
                    </mo>
                    <mo>
                     −
                    </mo>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       r
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <mi>
                     f
                    </mi>
                    <mo stretchy="false">
                     (
                    </mo>
                    <mi>
                     x
                    </mi>
                    <mo>
                     −
                    </mo>
                    <msub>
                     <mi>
                      h
                     </mi>
                     <mi>
                      l
                     </mi>
                    </msub>
                    <mo stretchy="false">
                     )
                    </mo>
                    <mo>
                     +
                    </mo>
                    <mo stretchy="false">
                     (
                    </mo>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       r
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <mo>
                     −
                    </mo>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       l
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <mo stretchy="false">
                     )
                    </mo>
                    <mi>
                     f
                    </mi>
                    <mo stretchy="false">
                     (
                    </mo>
                    <mi>
                     x
                    </mi>
                    <mo stretchy="false">
                     )
                    </mo>
                   </mrow>
                   <mrow>
                    <msub>
                     <mi>
                      h
                     </mi>
                     <mi>
                      r
                     </mi>
                    </msub>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       l
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <mo>
                     +
                    </mo>
                    <msup>
                     <msub>
                      <mi>
                       h
                      </mi>
                      <mi>
                       r
                      </mi>
                     </msub>
                     <mn>
                      2
                     </mn>
                    </msup>
                    <msub>
                     <mi>
                      h
                     </mi>
                     <mi>
                      l
                     </mi>
                    </msub>
                   </mrow>
                  </mfrac>
                 </mrow>
                 <annotation encoding="application/x-tex">
                  f'(x) \approx \frac{ {h_l}^2 f(x+h_r) - {h_r}^2 f(x-h_l)
      + ({h_r}^2-{h_l}^2 ) f(x) }{ {h_r} {h_l}^2 + {h_r}^2 {h_l} }
                 </annotation>
                </semantics>
               </math>
              </span>
              <span aria-hidden="true" class="katex-html">
               <span class="base">
                <span class="strut" style="height:1.051892em;vertical-align:-0.25em;">
                </span>
                <span class="mord">
                 <span class="mord mathnormal" style="margin-right:0.10764em;">
                  f
                 </span>
                 <span class="msupsub">
                  <span class="vlist-t">
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.801892em;">
                     <span style="top:-3.113em;margin-right:0.05em;">
                      <span class="pstrut" style="height:2.7em;">
                      </span>
                      <span class="sizing reset-size6 size3 mtight">
                       <span class="mord mtight">
                        <span class="mord mtight">
                         ′
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="mopen">
                 (
                </span>
                <span class="mord mathnormal">
                 x
                </span>
                <span class="mclose">
                 )
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
                <span class="mrel">
                 ≈
                </span>
                <span class="mspace" style="margin-right:0.2777777777777778em;">
                </span>
               </span>
               <span class="base">
                <span class="strut" style="height:2.513896em;vertical-align:-0.938448em;">
                </span>
                <span class="mord">
                 <span class="mopen nulldelimiter">
                 </span>
                 <span class="mfrac">
                  <span class="vlist-t vlist-t2">
                   <span class="vlist-r">
                    <span class="vlist" style="height:1.575448em;">
                     <span style="top:-2.2115519999999997em;">
                      <span class="pstrut" style="height:3em;">
                      </span>
                      <span class="mord">
                       <span class="mord">
                        <span class="mord">
                         <span class="mord mathnormal">
                          h
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.151392em;">
                             <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                r
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.15em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.33610799999999996em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.01968em;">
                                 l
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        +
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                 r
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord mathnormal">
                          h
                         </span>
                         <span class="msupsub">
                          <span class="vlist-t vlist-t2">
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.33610799999999996em;">
                             <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                              <span class="pstrut" style="height:2.7em;">
                              </span>
                              <span class="sizing reset-size6 size3 mtight">
                               <span class="mord mathnormal mtight" style="margin-right:0.01968em;">
                                l
                               </span>
                              </span>
                             </span>
                            </span>
                            <span class="vlist-s">
                             ​
                            </span>
                           </span>
                           <span class="vlist-r">
                            <span class="vlist" style="height:0.15em;">
                             <span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                     <span style="top:-3.23em;">
                      <span class="pstrut" style="height:3em;">
                      </span>
                      <span class="frac-line" style="border-bottom-width:0.04em;">
                      </span>
                     </span>
                     <span style="top:-3.677em;">
                      <span class="pstrut" style="height:3em;">
                      </span>
                      <span class="mord">
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.33610799999999996em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.01968em;">
                                 l
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mord mathnormal" style="margin-right:0.10764em;">
                        f
                       </span>
                       <span class="mopen">
                        (
                       </span>
                       <span class="mord mathnormal">
                        x
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        +
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mord">
                        <span class="mord mathnormal">
                         h
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t vlist-t2">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.151392em;">
                            <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                               r
                              </span>
                             </span>
                            </span>
                           </span>
                           <span class="vlist-s">
                            ​
                           </span>
                          </span>
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.15em;">
                            <span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mclose">
                        )
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        −
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                 r
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mord mathnormal" style="margin-right:0.10764em;">
                        f
                       </span>
                       <span class="mopen">
                        (
                       </span>
                       <span class="mord mathnormal">
                        x
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        −
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mord">
                        <span class="mord mathnormal">
                         h
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t vlist-t2">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.33610799999999996em;">
                            <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mathnormal mtight" style="margin-right:0.01968em;">
                               l
                              </span>
                             </span>
                            </span>
                           </span>
                           <span class="vlist-s">
                            ​
                           </span>
                          </span>
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.15em;">
                            <span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mclose">
                        )
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        +
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mopen">
                        (
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.151392em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.02778em;">
                                 r
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mbin">
                        −
                       </span>
                       <span class="mspace" style="margin-right:0.2222222222222222em;">
                       </span>
                       <span class="mord">
                        <span class="mord">
                         <span class="mord">
                          <span class="mord mathnormal">
                           h
                          </span>
                          <span class="msupsub">
                           <span class="vlist-t vlist-t2">
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.33610799999999996em;">
                              <span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;">
                               <span class="pstrut" style="height:2.7em;">
                               </span>
                               <span class="sizing reset-size6 size3 mtight">
                                <span class="mord mathnormal mtight" style="margin-right:0.01968em;">
                                 l
                                </span>
                               </span>
                              </span>
                             </span>
                             <span class="vlist-s">
                              ​
                             </span>
                            </span>
                            <span class="vlist-r">
                             <span class="vlist" style="height:0.15em;">
                              <span>
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="msupsub">
                         <span class="vlist-t">
                          <span class="vlist-r">
                           <span class="vlist" style="height:0.8984479999999999em;">
                            <span style="top:-3.1473400000000002em;margin-right:0.05em;">
                             <span class="pstrut" style="height:2.7em;">
                             </span>
                             <span class="sizing reset-size6 size3 mtight">
                              <span class="mord mtight">
                               2
                              </span>
                             </span>
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                       </span>
                       <span class="mclose">
                        )
                       </span>
                       <span class="mord mathnormal" style="margin-right:0.10764em;">
                        f
                       </span>
                       <span class="mopen">
                        (
                       </span>
                       <span class="mord mathnormal">
                        x
                       </span>
                       <span class="mclose">
                        )
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="vlist-s">
                     ​
                    </span>
                   </span>
                   <span class="vlist-r">
                    <span class="vlist" style="height:0.938448em;">
                     <span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="mclose nulldelimiter">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </div>
           <div class="admonition note">
            <p class="admonition-title">
             Note
            </p>
            <p>
             We estimate the gradient of functions in complex domain
             <span class="math">
              <span class="katex">
               <span class="katex-mathml">
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                 <semantics>
                  <mrow>
                   <mi>
                    g
                   </mi>
                   <mo>
                    :
                   </mo>
                   <msup>
                    <mi mathvariant="double-struck">
                     C
                    </mi>
                    <mi>
                     n
                    </mi>
                   </msup>
                   <mo>
                    →
                   </mo>
                   <mi mathvariant="double-struck">
                    C
                   </mi>
                  </mrow>
                  <annotation encoding="application/x-tex">
                   g : \mathbb{C}^n \rightarrow \mathbb{C}
                  </annotation>
                 </semantics>
                </math>
               </span>
               <span aria-hidden="true" class="katex-html">
                <span class="base">
                 <span class="strut" style="height:0.625em;vertical-align:-0.19444em;">
                 </span>
                 <span class="mord mathnormal" style="margin-right:0.03588em;">
                  g
                 </span>
                 <span class="mspace" style="margin-right:0.2777777777777778em;">
                 </span>
                 <span class="mrel">
                  :
                 </span>
                 <span class="mspace" style="margin-right:0.2777777777777778em;">
                 </span>
                </span>
                <span class="base">
                 <span class="strut" style="height:0.68889em;vertical-align:0em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathbb">
                   C
                  </span>
                  <span class="msupsub">
                   <span class="vlist-t">
                    <span class="vlist-r">
                     <span class="vlist" style="height:0.664392em;">
                      <span style="top:-3.063em;margin-right:0.05em;">
                       <span class="pstrut" style="height:2.7em;">
                       </span>
                       <span class="sizing reset-size6 size3 mtight">
                        <span class="mord mathnormal mtight">
                         n
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="mspace" style="margin-right:0.2777777777777778em;">
                 </span>
                 <span class="mrel">
                  →
                 </span>
                 <span class="mspace" style="margin-right:0.2777777777777778em;">
                 </span>
                </span>
                <span class="base">
                 <span class="strut" style="height:0.68889em;vertical-align:0em;">
                 </span>
                 <span class="mord mathbb">
                  C
                 </span>
                </span>
               </span>
              </span>
             </span>
             in the same way.
            </p>
           </div>
           <p>
            The value of each partial derivative at the boundary points is computed differently. See edge_order below.
           </p>
           <dl class="field-list simple">
            <dt class="field-odd">
             Parameters
            </dt>
            <dd class="field-odd">
             <p>
              <strong>
               input
              </strong>
              (
              <code class="docutils literal notranslate">
               <span class="pre">
                Tensor
               </span>
              </code>
              ) – the tensor that represents the values of the function
             </p>
            </dd>
            <dt class="field-even">
             Keyword Arguments
            </dt>
            <dd class="field-even">
             <ul class="simple">
              <li>
               <p>
                <strong>
                 spacing
                </strong>
                (
                <code class="docutils literal notranslate">
                 <span class="pre">
                  scalar
                 </span>
                </code>
                ,
                <code class="docutils literal notranslate">
                 <span class="pre">
                  list
                 </span>
                 <span class="pre">
                  of
                 </span>
                 <span class="pre">
                  scalar
                 </span>
                </code>
                ,
                <code class="docutils literal notranslate">
                 <span class="pre">
                  list
                 </span>
                 <span class="pre">
                  of
                 </span>
                 <span class="pre">
                  Tensor
                 </span>
                </code>
                , optional) –
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing
                 </span>
                </code>
                can be used to modify
how the
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  input
                 </span>
                </code>
                tensor’s indices relate to sample coordinates. If
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing
                 </span>
                </code>
                is a scalar then
the indices are multiplied by the scalar to produce the coordinates. For example, if
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing=2
                 </span>
                </code>
                the
indices (1, 2, 3) become coordinates (2, 4, 6). If
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing
                 </span>
                </code>
                is a list of scalars then the corresponding
indices are multiplied. For example, if
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing=(2,
                 </span>
                 <span class="pre">
                  -1,
                 </span>
                 <span class="pre">
                  3)
                 </span>
                </code>
                the indices (1, 2, 3) become coordinates (2, -2, 9).
Finally, if
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing
                 </span>
                </code>
                is a list of one-dimensional tensors then each tensor specifies the coordinates for
the corresponding dimension. For example, if the indices are (1, 2, 3) and the tensors are (t0, t1, t2), then
the coordinates are (t0[1], t1[2], t2[3])
               </p>
              </li>
              <li>
               <p>
                <strong>
                 dim
                </strong>
                (
                <code class="docutils literal notranslate">
                 <span class="pre">
                  int
                 </span>
                </code>
                ,
                <code class="docutils literal notranslate">
                 <span class="pre">
                  list
                 </span>
                 <span class="pre">
                  of
                 </span>
                 <span class="pre">
                  int
                 </span>
                </code>
                , optional) – the dimension or dimensions to approximate the gradient over.  By default
the partial  gradient in every dimension is computed. Note that when
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  dim
                 </span>
                </code>
                is  specified the elements of
the
                <code class="xref py py-attr docutils literal notranslate">
                 <span class="pre">
                  spacing
                 </span>
                </code>
                argument must correspond with the specified dims.”
               </p>
              </li>
              <li>
               <p>
                <strong>
                 edge_order
                </strong>
                (
                <code class="docutils literal notranslate">
                 <span class="pre">
                  int
                 </span>
                </code>
                , optional) – 1 or 2, for
                <a class="reference external" href="https://www.ams.org/journals/mcom/1988-51-184/S0025-5718-1988-0935077-0/S0025-5718-1988-0935077-0.pdf">
                 first-order
                </a>
                or
                <a class="reference external" href="https://www.ams.org/journals/mcom/1988-51-184/S0025-5718-1988-0935077-0/S0025-5718-1988-0935077-0.pdf">
                 second-order
                </a>
                estimation of the boundary (“edge”) values, respectively.
               </p>
              </li>
             </ul>
            </dd>
           </dl>
           <p>
            Examples:
           </p>
           <div class="highlight-default notranslate">
            <div class="highlight">
             <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Estimates the gradient of f(x)=x^2 at points [-2, -1, 2, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coordinates</span> <span class="o">=</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">2.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">]),)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">16.</span><span class="p">],</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">spacing</span> <span class="o">=</span> <span class="n">coordinates</span><span class="p">)</span>
<span class="go">(tensor([-3., -2., 2., 5.]),)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Estimates the gradient of the R^2 -&gt; R function whose samples are</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># described by the tensor t. Implicit coordinates are [0, 1] for the outermost</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># dimension and [0, 1, 2, 3] for the innermost dimension, and function estimates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># partial derivative for both dimensions.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">(tensor([[ 9., 18., 36., 72.],</span>
<span class="go">         [ 9., 18., 36., 72.]]),</span>
<span class="go"> tensor([[ 1.0000, 1.5000, 3.0000, 4.0000],</span>
<span class="go">         [10.0000, 15.0000, 30.0000, 40.0000]]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># A scalar value for spacing modifies the relationship between tensor indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># and input coordinates by multiplying the indices to find the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># coordinates. For example, below the indices of the innermost</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 0, 1, 2, 3 translate to coordinates of [0, 2, 4, 6], and the indices of</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the outermost dimension 0, 1 translate to coordinates of [0, 2].</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">spacing</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># dim = None (implicitly [0, 1])</span>
<span class="go">(tensor([[ 4.5000, 9.0000, 18.0000, 36.0000],</span>
<span class="go">          [ 4.5000, 9.0000, 18.0000, 36.0000]]),</span>
<span class="go"> tensor([[ 0.5000, 0.7500, 1.5000, 2.0000],</span>
<span class="go">          [ 5.0000, 7.5000, 15.0000, 20.0000]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># doubling the spacing between samples halves the estimated partial gradients.</span>

<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Estimates only the partial derivative for dimension 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># spacing = None (implicitly 1.)</span>
<span class="go">(tensor([[ 1.0000, 1.5000, 3.0000, 4.0000],</span>
<span class="go">         [10.0000, 15.0000, 30.0000, 40.0000]]),)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># When spacing is a list of scalars, the relationship between the tensor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># indices and input coordinates changes based on dimension.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># For example, below, the indices of the innermost dimension 0, 1, 2, 3 translate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to coordinates of [0, 3, 6, 9], and the indices of the outermost dimension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 0, 1 translate to coordinates of [0, 2].</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">spacing</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
<span class="go">(tensor([[ 4.5000, 9.0000, 18.0000, 36.0000],</span>
<span class="go">         [ 4.5000, 9.0000, 18.0000, 36.0000]]),</span>
<span class="go"> tensor([[ 0.3333, 0.5000, 1.0000, 1.3333],</span>
<span class="go">         [ 3.3333, 5.0000, 10.0000, 13.3333]]))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The following example is a replication of the previous one with explicit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># coordinates.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">spacing</span> <span class="o">=</span> <span class="n">coords</span><span class="p">)</span>
<span class="go">(tensor([[ 4.5000, 9.0000, 18.0000, 36.0000],</span>
<span class="go">         [ 4.5000, 9.0000, 18.0000, 36.0000]]),</span>
<span class="go"> tensor([[ 0.3333, 0.5000, 1.0000, 1.3333],</span>
<span class="go">         [ 3.3333, 5.0000, 10.0000, 13.3333]]))</span>
</pre>
            </div>
           </div>
          </dd>
         </dl>
        </div>
       </article>
      </div>
     </div>
    </div>
   </section>
  </div>
 </body>
</html>