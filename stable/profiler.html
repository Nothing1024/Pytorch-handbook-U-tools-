<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   torch.profiler — PyTorch 1.10 documentation
  </title>
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <!-- Google Analytics -->
  <!-- Preload the theme fonts -->
  <!-- Preload the katex fonts -->
 </head>
 <body class="pytorch-body">
  <div class="pytorch-container">
   <section class="pytorch-content-wrap" data-toggle="wy-nav-shift" id="pytorch-content-wrap">
    <div class="pytorch-content-left">
     <div class="rst-content">
      <div class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
       <article class="pytorch-article" id="pytorch-article" itemprop="articleBody">
        <div class="section" id="torch-profiler">
         <h1>
          torch.profiler
          <a class="headerlink" href="#torch-profiler" title="Permalink to this headline">
           ¶
          </a>
         </h1>
         <div class="section" id="module-torch.profiler">
          <span id="overview">
          </span>
          <h2>
           Overview
           <a class="headerlink" href="#module-torch.profiler" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <p>
           PyTorch Profiler is a tool that allows the collecton of the performance metrics during the training and inference.
Profiler’s context manager API can be used to better understand what model operators are the most expensive,
examine their input shapes and stack traces, study device kernel activity and visualize the execution trace.
          </p>
          <div class="admonition note">
           <p class="admonition-title">
            Note
           </p>
           <p>
            An earlier version of the API in
            <a class="reference internal" href="autograd.html#module-torch.autograd" title="torch.autograd">
             <code class="xref py py-mod docutils literal notranslate">
              <span class="pre">
               torch.autograd
              </span>
             </code>
            </a>
            module is considered legacy and will be deprecated.
           </p>
          </div>
         </div>
         <div class="section" id="api-reference">
          <h2>
           API Reference
           <a class="headerlink" href="#api-reference" title="Permalink to this headline">
            ¶
           </a>
          </h2>
          <dl class="py class">
           <dt id="torch.profiler.profile">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.profiler.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              profile
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="o">
              <span class="pre">
               *
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               activities
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               schedule
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               on_trace_ready
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               record_shapes
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               profile_memory
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               with_stack
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               with_flops
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               with_modules
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               use_cuda
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.profiler.profile" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Profiler context manager.
            </p>
            <dl class="field-list simple">
             <dt class="field-odd">
              Parameters
             </dt>
             <dd class="field-odd">
              <ul class="simple">
               <li>
                <p>
                 <strong>
                  activities
                 </strong>
                 (
                 <em>
                  iterable
                 </em>
                 ) – list of activity groups (CPU, CUDA) to use in profiling, supported values:
                 <code class="docutils literal notranslate">
                  <span class="pre">
                   torch.profiler.ProfilerActivity.CPU
                  </span>
                 </code>
                 ,
                 <code class="docutils literal notranslate">
                  <span class="pre">
                   torch.profiler.ProfilerActivity.CUDA
                  </span>
                 </code>
                 .
Default value: ProfilerActivity.CPU and (when available) ProfilerActivity.CUDA.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  schedule
                 </strong>
                 (
                 <em>
                  callable
                 </em>
                 ) – callable that takes step (int) as a single parameter and returns
                 <code class="docutils literal notranslate">
                  <span class="pre">
                   ProfilerAction
                  </span>
                 </code>
                 value that specifies the profiler action to perform at each step.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  on_trace_ready
                 </strong>
                 (
                 <em>
                  callable
                 </em>
                 ) – callable that is called at each step when
                 <code class="docutils literal notranslate">
                  <span class="pre">
                   schedule
                  </span>
                 </code>
                 returns
                 <code class="docutils literal notranslate">
                  <span class="pre">
                   ProfilerAction.RECORD_AND_SAVE
                  </span>
                 </code>
                 during the profiling.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  record_shapes
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) – save information about operator’s input shapes.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  profile_memory
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) – track tensor memory allocation/deallocation.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  with_stack
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) – record source information (file and line number) for the ops.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  with_flops
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) – use formula to estimate the FLOPs (floating point operations) of specific operators
(matrix multiplication and 2D convolution).
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  with_modules
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) – record module hierarchy (including function names)
corresponding to the callstack of the op. e.g. If module A’s forward call’s
module B’s forward which contains an aten::add op,
then aten::add’s module hierarchy is A.B
Note that this support exist, at the moment, only for TorchScript models
and not eager mode models.
                </p>
               </li>
               <li>
                <p>
                 <strong>
                  use_cuda
                 </strong>
                 (
                 <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">
                  <em>
                   bool
                  </em>
                 </a>
                 ) –
                 <div class="deprecated">
                  <p>
                   <span class="versionmodified deprecated">
                    Deprecated since version 1.8.1:
                   </span>
                   use
                   <code class="docutils literal notranslate">
                    <span class="pre">
                     activities
                    </span>
                   </code>
                   instead.
                  </p>
                 </div>
                </p>
               </li>
              </ul>
             </dd>
            </dl>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              Use
              <a class="reference internal" href="#torch.profiler.schedule" title="torch.profiler.schedule">
               <code class="xref py py-func docutils literal notranslate">
                <span class="pre">
                 schedule()
                </span>
               </code>
              </a>
              to generate the callable schedule.
Non-default schedules are useful when profiling long training jobs
and allow the user to obtain multiple traces at the different iterations
of the training process.
The default schedule simply records all the events continuously for the
duration of the context manager.
             </p>
            </div>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              Use
              <a class="reference internal" href="#torch.profiler.tensorboard_trace_handler" title="torch.profiler.tensorboard_trace_handler">
               <code class="xref py py-func docutils literal notranslate">
                <span class="pre">
                 tensorboard_trace_handler()
                </span>
               </code>
              </a>
              to generate result files for TensorBoard:
             </p>
             <p>
              <code class="docutils literal notranslate">
               <span class="pre">
                on_trace_ready=torch.profiler.tensorboard_trace_handler(dir_name)
               </span>
              </code>
             </p>
             <p>
              After profiling, result files can be found in the specified directory. Use the command:
             </p>
             <p>
              <code class="docutils literal notranslate">
               <span class="pre">
                tensorboard
               </span>
               <span class="pre">
                --logdir
               </span>
               <span class="pre">
                dir_name
               </span>
              </code>
             </p>
             <p>
              to see the results in TensorBoard.
For more information, see
              <a class="reference external" href="https://github.com/pytorch/kineto/tree/master/tb_plugin">
               PyTorch Profiler TensorBoard Plugin
              </a>
             </p>
            </div>
            <div class="admonition note">
             <p class="admonition-title">
              Note
             </p>
             <p>
              Enabling shape and stack tracing results in additional overhead.
When record_shapes=True is specified, profiler will temporarily hold references to the tensors;
that may further prevent certain optimizations that depend on the reference count and introduce
extra tensor copies.
             </p>
            </div>
            <p>
             Examples:
            </p>
            <div class="highlight-python notranslate">
             <div class="highlight">
              <pre><span></span><span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">profile</span><span class="p">(</span>
    <span class="n">activities</span><span class="o">=</span><span class="p">[</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">ProfilerActivity</span><span class="o">.</span><span class="n">CPU</span><span class="p">,</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">ProfilerActivity</span><span class="o">.</span><span class="n">CUDA</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
    <span class="n">code_to_profile</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">key_averages</span><span class="p">()</span><span class="o">.</span><span class="n">table</span><span class="p">(</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="s2">"self_cuda_time_total"</span><span class="p">,</span> <span class="n">row_limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
</pre>
             </div>
            </div>
            <p>
             Using the profiler’s
             <code class="docutils literal notranslate">
              <span class="pre">
               schedule
              </span>
             </code>
             ,
             <code class="docutils literal notranslate">
              <span class="pre">
               on_trace_ready
              </span>
             </code>
             and
             <code class="docutils literal notranslate">
              <span class="pre">
               step
              </span>
             </code>
             functions:
            </p>
            <div class="highlight-python notranslate">
             <div class="highlight">
              <pre><span></span><span class="c1"># Non-default profiler schedule allows user to turn profiler on and off</span>
<span class="c1"># on different iterations of the training loop;</span>
<span class="c1"># trace_handler is called every time a new trace becomes available</span>
<span class="k">def</span> <span class="nf">trace_handler</span><span class="p">(</span><span class="n">prof</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">prof</span><span class="o">.</span><span class="n">key_averages</span><span class="p">()</span><span class="o">.</span><span class="n">table</span><span class="p">(</span>
        <span class="n">sort_by</span><span class="o">=</span><span class="s2">"self_cuda_time_total"</span><span class="p">,</span> <span class="n">row_limit</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
    <span class="c1"># prof.export_chrome_trace("/tmp/test_trace_" + str(prof.step_num) + ".json")</span>

<span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">profile</span><span class="p">(</span>
    <span class="n">activities</span><span class="o">=</span><span class="p">[</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">ProfilerActivity</span><span class="o">.</span><span class="n">CPU</span><span class="p">,</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">ProfilerActivity</span><span class="o">.</span><span class="n">CUDA</span><span class="p">,</span>
    <span class="p">],</span>

    <span class="c1"># In this example with wait=1, warmup=1, active=2,</span>
    <span class="c1"># profiler will skip the first step/iteration,</span>
    <span class="c1"># start warming up on the second, record</span>
    <span class="c1"># the third and the forth iterations,</span>
    <span class="c1"># after which the trace will become available</span>
    <span class="c1"># and on_trace_ready (when set) is called;</span>
    <span class="c1"># the cycle repeats starting with the next step</span>

    <span class="n">schedule</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">profiler</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span>
        <span class="n">wait</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">warmup</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">active</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
    <span class="n">on_trace_ready</span><span class="o">=</span><span class="n">trace_handler</span>
    <span class="c1"># on_trace_ready=torch.profiler.tensorboard_trace_handler('./log')</span>
    <span class="c1"># used when outputting for tensorboard</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
        <span class="k">for</span> <span class="nb">iter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
            <span class="n">code_iteration_to_profile</span><span class="p">(</span><span class="nb">iter</span><span class="p">)</span>
            <span class="c1"># send a signal to the profiler that the next iteration has started</span>
            <span class="n">p</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
</pre>
             </div>
            </div>
            <dl class="py method">
             <dt id="torch.profiler.profile.add_metadata">
              <code class="sig-name descname">
               <span class="pre">
                add_metadata
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 key
                </span>
               </span>
              </em>
              ,
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 value
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.add_metadata">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.add_metadata" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Adds a user defined metadata with a string key and a string value
into the trace file
              </p>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.add_metadata_json">
              <code class="sig-name descname">
               <span class="pre">
                add_metadata_json
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 key
                </span>
               </span>
              </em>
              ,
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 value
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.add_metadata_json">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.add_metadata_json" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Adds a user defined metadata with a string key and a valid json value
into the trace file
              </p>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.events">
              <code class="sig-name descname">
               <span class="pre">
                events
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.events">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.events" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Returns the list of unaggregated profiler events,
to be used in the trace callback or after the profiling is finished
              </p>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.export_chrome_trace">
              <code class="sig-name descname">
               <span class="pre">
                export_chrome_trace
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 path
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.export_chrome_trace">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.export_chrome_trace" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Exports the collected trace in Chrome JSON format.
              </p>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.export_stacks">
              <code class="sig-name descname">
               <span class="pre">
                export_stacks
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 path
                </span>
               </span>
              </em>
              ,
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 metric
                </span>
               </span>
               <span class="o">
                <span class="pre">
                 =
                </span>
               </span>
               <span class="default_value">
                <span class="pre">
                 'self_cpu_time_total'
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.export_stacks">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.export_stacks" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Save stack traces in a file in a format suitable for visualization.
              </p>
              <dl class="field-list simple">
               <dt class="field-odd">
                Parameters
               </dt>
               <dd class="field-odd">
                <ul class="simple">
                 <li>
                  <p>
                   <strong>
                    path
                   </strong>
                   (
                   <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">
                    <em>
                     str
                    </em>
                   </a>
                   ) – save stacks file to this location;
                  </p>
                 </li>
                 <li>
                  <p>
                   <strong>
                    metric
                   </strong>
                   (
                   <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">
                    <em>
                     str
                    </em>
                   </a>
                   ) – metric to use: “self_cpu_time_total” or “self_cuda_time_total”
                  </p>
                 </li>
                </ul>
               </dd>
              </dl>
              <div class="admonition note">
               <p class="admonition-title">
                Note
               </p>
               <p>
                Example of using FlameGraph tool:
               </p>
               <ul class="simple">
                <li>
                 <p>
                  git clone
                  <a class="reference external" href="https://github.com/brendangregg/FlameGraph">
                   https://github.com/brendangregg/FlameGraph
                  </a>
                 </p>
                </li>
                <li>
                 <p>
                  cd FlameGraph
                 </p>
                </li>
                <li>
                 <p>
                  ./flamegraph.pl –title “CPU time” –countname “us.” profiler.stacks &gt; perf_viz.svg
                 </p>
                </li>
               </ul>
              </div>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.key_averages">
              <code class="sig-name descname">
               <span class="pre">
                key_averages
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 group_by_input_shape
                </span>
               </span>
               <span class="o">
                <span class="pre">
                 =
                </span>
               </span>
               <span class="default_value">
                <span class="pre">
                 False
                </span>
               </span>
              </em>
              ,
              <em class="sig-param">
               <span class="n">
                <span class="pre">
                 group_by_stack_n
                </span>
               </span>
               <span class="o">
                <span class="pre">
                 =
                </span>
               </span>
               <span class="default_value">
                <span class="pre">
                 0
                </span>
               </span>
              </em>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.key_averages">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.key_averages" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Averages events, grouping them by operator name and (optionally) input shapes and
stack.
              </p>
              <div class="admonition note">
               <p class="admonition-title">
                Note
               </p>
               <p>
                To use shape/stack functionality make sure to set record_shapes/with_stack
when creating profiler context manager.
               </p>
              </div>
             </dd>
            </dl>
            <dl class="py method">
             <dt id="torch.profiler.profile.step">
              <code class="sig-name descname">
               <span class="pre">
                step
               </span>
              </code>
              <span class="sig-paren">
               (
              </span>
              <span class="sig-paren">
               )
              </span>
              <a class="reference internal" href="_modules/torch/profiler/profiler.html#profile.step">
               <span class="viewcode-link">
                <span class="pre">
                 [source]
                </span>
               </span>
              </a>
              <a class="headerlink" href="#torch.profiler.profile.step" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
              <p>
               Signals the profiler that the next profiling step has started.
              </p>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.profiler.ProfilerAction">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.profiler.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              ProfilerAction
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               value
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/profiler/profiler.html#ProfilerAction">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.profiler.ProfilerAction" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Profiler actions that can be taken at the specified intervals
            </p>
           </dd>
          </dl>
          <dl class="py class">
           <dt id="torch.profiler.ProfilerActivity">
            <em class="property">
             <span class="pre">
              class
             </span>
            </em>
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.profiler.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              ProfilerActivity
             </span>
            </code>
            <a class="headerlink" href="#torch.profiler.ProfilerActivity" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Members:
            </p>
            <p>
             CPU
            </p>
            <p>
             CUDA
            </p>
            <dl class="py method">
             <dt id="torch.profiler.ProfilerActivity.name">
              <em class="property">
               <span class="pre">
                property
               </span>
              </em>
              <code class="sig-name descname">
               <span class="pre">
                name
               </span>
              </code>
              <a class="headerlink" href="#torch.profiler.ProfilerActivity.name" title="Permalink to this definition">
               ¶
              </a>
             </dt>
             <dd>
             </dd>
            </dl>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.profiler.schedule">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.profiler.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              schedule
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="o">
              <span class="pre">
               *
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               wait
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               warmup
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               active
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               repeat
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               skip_first
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               0
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/profiler/profiler.html#schedule">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.profiler.schedule" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Returns a callable that can be used as profiler
             <code class="docutils literal notranslate">
              <span class="pre">
               schedule
              </span>
             </code>
             argument. The profiler will skip
the first
             <code class="docutils literal notranslate">
              <span class="pre">
               skip_first
              </span>
             </code>
             steps, then wait for
             <code class="docutils literal notranslate">
              <span class="pre">
               wait
              </span>
             </code>
             steps, then do the warmup for the next
             <code class="docutils literal notranslate">
              <span class="pre">
               warmup
              </span>
             </code>
             steps,
then do the active recording for the next
             <code class="docutils literal notranslate">
              <span class="pre">
               active
              </span>
             </code>
             steps and then repeat the cycle starting with
             <code class="docutils literal notranslate">
              <span class="pre">
               wait
              </span>
             </code>
             steps.
The optional number of cycles is specified with the
             <code class="docutils literal notranslate">
              <span class="pre">
               repeat
              </span>
             </code>
             parameter, the zero value means that
the cycles will continue until the profiling is finished.
            </p>
           </dd>
          </dl>
          <dl class="py function">
           <dt id="torch.profiler.tensorboard_trace_handler">
            <code class="sig-prename descclassname">
             <span class="pre">
              torch.profiler.
             </span>
            </code>
            <code class="sig-name descname">
             <span class="pre">
              tensorboard_trace_handler
             </span>
            </code>
            <span class="sig-paren">
             (
            </span>
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               dir_name
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               worker_name
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               None
              </span>
             </span>
            </em>
            ,
            <em class="sig-param">
             <span class="n">
              <span class="pre">
               use_gzip
              </span>
             </span>
             <span class="o">
              <span class="pre">
               =
              </span>
             </span>
             <span class="default_value">
              <span class="pre">
               False
              </span>
             </span>
            </em>
            <span class="sig-paren">
             )
            </span>
            <a class="reference internal" href="_modules/torch/profiler/profiler.html#tensorboard_trace_handler">
             <span class="viewcode-link">
              <span class="pre">
               [source]
              </span>
             </span>
            </a>
            <a class="headerlink" href="#torch.profiler.tensorboard_trace_handler" title="Permalink to this definition">
             ¶
            </a>
           </dt>
           <dd>
            <p>
             Outputs tracing files to directory of
             <code class="docutils literal notranslate">
              <span class="pre">
               dir_name
              </span>
             </code>
             , then that directory can be
directly delivered to tensorboard as logdir.
             <code class="docutils literal notranslate">
              <span class="pre">
               worker_name
              </span>
             </code>
             should be unique for each worker in distributed scenario,
it will be set to ‘[hostname]_[pid]’ by default.
            </p>
           </dd>
          </dl>
         </div>
        </div>
       </article>
      </div>
     </div>
    </div>
   </section>
  </div>
 </body>
</html>